<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>QT开发框架(持续更新) | Cc12138's blog</title><meta name="author" content="Ccai"><meta name="copyright" content="Ccai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="QT框架笔记VS上使用QT环境搭建  C++实践之Qt学习（扩展）：Visual Studio中Qt开发环境的搭建_visual studio 与 qt-CSDN博客  配置下32,64位的生成配置  【QT】visual studio QT 32位和64位生成配置_qt生成32位程序-CSDN博客  显示中文，防止乱码： 1#pragma execution_character_set(&amp;quo">
<meta property="og:type" content="article">
<meta property="og:title" content="QT开发框架(持续更新)">
<meta property="og:url" content="http://example.com/Qt%E6%A1%86%E6%9E%B6/index.html">
<meta property="og:site_name" content="Cc12138&#39;s blog">
<meta property="og:description" content="QT框架笔记VS上使用QT环境搭建  C++实践之Qt学习（扩展）：Visual Studio中Qt开发环境的搭建_visual studio 与 qt-CSDN博客  配置下32,64位的生成配置  【QT】visual studio QT 32位和64位生成配置_qt生成32位程序-CSDN博客  显示中文，防止乱码： 1#pragma execution_character_set(&amp;quo">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/WangFei2.jpg">
<meta property="article:published_time" content="2024-11-10T08:50:00.000Z">
<meta property="article:modified_time" content="2024-12-18T14:22:22.206Z">
<meta property="article:author" content="Ccai">
<meta property="article:tag" content="QT">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/WangFei2.jpg"><link rel="shortcut icon" href="/img/rose.png"><link rel="canonical" href="http://example.com/Qt%E6%A1%86%E6%9E%B6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'QT开发框架(持续更新)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-18 22:22:22'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/WangFei2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Cc12138's blog"><span class="site-name">Cc12138's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">QT开发框架(持续更新)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-10T08:50:00.000Z" title="发表于 2024-11-10 16:50:00">2024-11-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-18T14:22:22.206Z" title="更新于 2024-12-18 22:22:22">2024-12-18</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="QT开发框架(持续更新)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="QT框架笔记"><a href="#QT框架笔记" class="headerlink" title="QT框架笔记"></a>QT框架笔记</h1><h2 id="VS上使用QT"><a href="#VS上使用QT" class="headerlink" title="VS上使用QT"></a>VS上使用QT</h2><p>环境搭建</p>
<p> <a target="_blank" rel="noopener" href="https://blog.csdn.net/jiratao/article/details/118927622">C++实践之Qt学习（扩展）：Visual Studio中Qt开发环境的搭建_visual studio 与 qt-CSDN博客</a> </p>
<p>配置下32,64位的生成配置</p>
<p> <a target="_blank" rel="noopener" href="https://blog.csdn.net/xiaomiqaq/article/details/126614008">【QT】visual studio QT 32位和64位生成配置_qt生成32位程序-CSDN博客</a> </p>
<p>显示中文，防止乱码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br></pre></td></tr></table></figure>

<p>Qt 在跨平台开发中广泛支持 UTF-8 , 它告诉编译器将源代码中的字符串文字编码为 UTF-8，而不是默认的系统编码（例如GBK）。 </p>
<p><strong>关于父类的说明</strong> </p>
<p>QMainWindow</p>
<p>可以包含菜单栏、工具栏、状态栏、标题栏等，是最常见的窗口形式，可以作为桌面应用的主窗口</p>
<p>QWidget</p>
<p>是所有用户界面对象的基类，其他的窗口和控件都是直接或间接地集成自QWidget，一般创建桌面应用程序时需要创建一个窗口，此时选择QMainWindow或者QDialog即可，QMainWindow是主窗口，QDialog表示对话框。而如果不确定是否作为一个顶级窗口或者嵌入到其他窗口中，可以使用QWidget，同时它也是实现自定义部件的基类。</p>
<p>QDialog</p>
<p>表示对话框，主要用来进行短期交互，可以设置成模态的。一般没有菜单栏、工具栏、状态栏等。</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731162783725.png" alt="1731162783725"></p>
<h2 id="QT信号与槽机制"><a href="#QT信号与槽机制" class="headerlink" title="QT信号与槽机制"></a>QT信号与槽机制</h2><h3 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h3><p>在 Qt 框架中，<strong>信号和槽</strong>（Signal and Slot）是一种用于对象之间通信的机制，尤其适用于事件驱动的 GUI 应用程序。信号和槽是 Qt 中的一种扩展机制，专门为简化和增强组件间的交互设计的。</p>
<p><strong>信号</strong>：类似于一种“广播”机制，表明发生了某些事件。信号本身不包含处理逻辑，只是单纯的事件通知。 </p>
<p><strong>槽</strong>：槽函数用于接收信号，槽函数会定义如何处理事件。槽函数可以是任何可调用的成员函数。 </p>
<p>类似于之前学过的MFC框架中的<strong>消息映射</strong></p>
<h3 id="QT中信号和槽的特点"><a href="#QT中信号和槽的特点" class="headerlink" title="QT中信号和槽的特点"></a>QT中信号和槽的特点</h3><p><strong>（为什么信号和槽不写成统一的普通函数）</strong></p>
<p><strong>1. 松耦合（Loose Coupling）</strong></p>
<p>信号和槽的机制通过解耦事件的发送者（信号）和接收者（槽）之间的关系，提供了松耦合的编程方式。松耦合是指发送信号的对象并不需要知道任何关于接收信号的对象（即槽）的细节，反之亦然。</p>
<ul>
<li><strong>传统的函数调用</strong>：通常在 C++ 中，一个对象直接调用另一个对象的函数，这需要对象彼此了解，并且依赖于函数的实现。如果你想更改接收者对象或者函数的实现，必须更改调用者代码。这种方式很紧耦合，修改和维护变得困难。</li>
<li><strong>信号与槽</strong>：使用信号和槽机制时，发送信号的对象根本不需要知道谁在接收信号，它只是通过 <code>emit</code> 关键字发出信号。接收信号的槽函数可以在其他任何地方实现并连接到信号。这使得对象间的关系非常灵活，减少了代码之间的依赖。</li>
</ul>
<p><strong>2. 事件驱动机制</strong></p>
<p>Qt 是一个事件驱动框架，这意味着程序的行为是由事件触发的，而不是由方法调用的。信号和槽机制就是实现事件驱动模型的核心之一。</p>
<ul>
<li><strong>传统的调用</strong>：在传统 C++ 中，你通常会通过直接调用函数来触发某些行为，这种行为是同步的，即调用者必须等待返回。</li>
<li><strong>信号和槽</strong>：信号和槽机制允许事件的异步处理。例如，某个对象可以发出信号（事件），而不关心谁处理它，接收者（槽）可以在合适的时机处理这个信号，而不必与发送者直接交互。Qt 框架也支持这种信号异步传递的机制，可以在后台线程中处理信号，从而避免 UI 阻塞。</li>
</ul>
<p><strong>3. 自动连接机制</strong></p>
<p>Qt 的信号和槽机制具有自动连接功能。通常，Qt 会根据信号和槽的名称、参数匹配情况，自动连接信号与槽。你无需手动管理函数指针或事件传递。</p>
<ul>
<li><strong>传统的函数指针或回调</strong>：你需要显式地将回调函数与事件绑定。例如，在某些情况下，你可能需要手动管理一个函数指针或回调对象。这种方式不如信号和槽机制直观和灵活。</li>
<li><strong>信号与槽的自动连接</strong>：通过 <code>QObject::connect</code> 函数，信号和槽可以自动绑定。如果信号发射时参数类型与槽匹配，Qt 会自动调用相应的槽函数。你只需要专注于信号的触发和槽的实现，不必担心对象间如何互相调用。</li>
</ul>
<p><strong>4. 多个槽的连接（多重响应）</strong></p>
<p>使用信号和槽机制，一个信号可以连接到多个槽函数，这意味着一个事件可以触发多个不同的行为。这种特性使得信号和槽非常适合多任务或并发编程。</p>
<ul>
<li><strong>传统的函数调用</strong>：你只能调用一个函数。</li>
<li><strong>信号与槽</strong>：一个信号可以连接到多个槽，这使得你可以根据不同的需求实现不同的行为。例如，多个组件都可以监听同一个信号，而各自作出不同的反应。</li>
</ul>
<p><strong>5. 线程安全</strong></p>
<p>Qt 的信号和槽机制本身设计时考虑了多线程环境，在多线程的情况下，信号和槽之间的调用是线程安全的。Qt 内部自动处理了信号和槽的线程间通信。</p>
<ul>
<li><strong>传统的线程通信</strong>：在传统的 C++ 中，你需要使用显式的线程同步机制（如互斥锁、条件变量等）来保证线程安全。</li>
<li><strong>信号与槽的线程安全</strong>：Qt 会自动处理跨线程的信号和槽连接，例如在不同线程之间传递信号时，它会将信号的执行放到目标线程的事件队列中，这样即使在多线程环境下，信号与槽的通信也能保持安全。</li>
</ul>
<p><strong>6. 灵活性</strong></p>
<p>信号和槽提供了非常灵活的方式来处理事件。你可以通过编程动态地添加和移除槽，甚至可以在运行时动态连接信号和槽。这种灵活性非常适用于复杂的 GUI 应用程序或需要高度自定义行为的程序。</p>
<ul>
<li><strong>传统的函数调用</strong>：通常是固定的，函数调用的绑定在编译时就已经确定了，缺乏动态调整的能力。</li>
<li><strong>信号和槽</strong>：通过 <code>QObject::connect</code> 和 <code>QObject::disconnect</code>，你可以在运行时灵活地连接和断开信号与槽的关系，极大地增加了代码的灵活性和扩展性。</li>
</ul>
<p>参数类型、参数数量和顺序都一致  那么信号和槽就会匹配。 </p>
<h3 id="QObject-connect"><a href="#QObject-connect" class="headerlink" title="QObject::connect()"></a>QObject::connect()</h3><p>在 Qt 中，信号和槽是通过 <code>QObject::connect()</code> 函数连接的： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QObject::<span class="built_in">connect</span>(</span><br><span class="line">    <span class="type">const</span> QObject *sender, </span><br><span class="line">    PointerToMemberFunction signal, </span><br><span class="line">    <span class="type">const</span> QObject *receiver, </span><br><span class="line">    PointerToMemberFunction slot, </span><br><span class="line">    Qt::ConnectionType type = Qt::AutoConnection</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong><code>sender</code></strong> （发送者对象指针）</p>
<ul>
<li><code>const QObject *sender</code>：表示信号的发送者对象，即哪个对象发出信号。</li>
<li>一般是类的对象指针，如 <code>&amp;myButton</code> 或 <code>this</code>。</li>
</ul>
<p><strong><code>signal</code></strong> （信号函数指针）</p>
<ul>
<li><code>PointerToMemberFunction signal</code>：这是指向信号函数的成员函数指针，指定要发出的信号。</li>
<li>格式是 <code>&amp;ClassName::signalName</code>，需要明确指出信号所在类的作用域。</li>
<li><strong>示例</strong>：<code>&amp;QPushButton::clicked</code> 表示 <code>QPushButton</code> 类中的 <code>clicked()</code> 信号。</li>
</ul>
<p><strong><code>receiver</code></strong> （接收者对象指针）</p>
<ul>
<li><code>const QObject *receiver</code>：表示信号的接收者对象，即哪个对象接收信号并执行相应槽函数。</li>
<li>一般是类的对象指针，比如 <code>&amp;obj</code> 或 <code>this</code>。</li>
</ul>
<p><strong><code>slot</code></strong> （槽函数指针）</p>
<ul>
<li><code>PointerToMemberFunction slot</code>：这是指向槽函数的成员函数指针，表示当信号触发时要调用的槽函数。</li>
<li>格式是 <code>&amp;ClassName::slotName</code>，也需要明确槽所在类的作用域。</li>
<li><strong>示例</strong>：<code>&amp;MyClass::onButtonClicked</code> 表示 <code>MyClass</code> 类中的 <code>onButtonClicked()</code> 槽函数。</li>
</ul>
<p>**<code>type</code>**（连接类型，可选参数）</p>
<ul>
<li><p><code>Qt::ConnectionType type = Qt::AutoConnection</code>：指定连接类型，用来决定信号和槽的执行方式。默认为 <code>Qt::AutoConnection</code>，它会自动根据线程情况选择合适的连接类型。</p>
</li>
<li><p>其他可选值包括：</p>
<ul>
<li><code>Qt::DirectConnection</code>：槽在发送信号的线程中立即执行。</li>
<li><code>Qt::QueuedConnection</code>：槽在接收者所在的线程中异步执行。</li>
<li><code>Qt::BlockingQueuedConnection</code>：阻塞发送者线程，直到槽函数完成（仅在多线程环境中使用）。</li>
<li><code>Qt::UniqueConnection</code>：确保同一对信号和槽只连接一次。</li>
</ul>
</li>
</ul>
<p><strong>函数返回值</strong></p>
<p>返回一个 <code>QMetaObject::Connection</code> 类型的值，用于断开连接。如果连接成功，返回一个有效的连接对象；如果连接失败（例如信号与槽的参数不匹配），则返回一个无效的连接。</p>
<h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Calculate_Volume.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_Calculate_Volume.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLineEdit&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QHBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QString&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span>  <span class="comment">// 用于计算球的体积</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M_PI 3.1415926535</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculate_Volume</span> : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Calculate_Volume</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Calculate_Volume</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Calculate_VolumeClass ui;</span><br><span class="line">    QLabel* label;                <span class="comment">// 标签类</span></span><br><span class="line">    QLineEdit* radiusInput;       <span class="comment">// 半径输入文本框</span></span><br><span class="line">    QLineEdit* volumeOutput;      <span class="comment">// 体积输出文本框</span></span><br><span class="line">    QPushButton* calculateButton; <span class="comment">// 计算按钮</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onButtonClicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">bool</span> ok;</span><br><span class="line">        <span class="type">double</span> radius = radiusInput-&gt;<span class="built_in">text</span>().<span class="built_in">toDouble</span>(&amp;ok);</span><br><span class="line">        <span class="keyword">if</span> (!ok || radius &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            QMessageBox::<span class="built_in">warning</span>(<span class="keyword">this</span>, <span class="string">&quot;输入错误&quot;</span>, <span class="string">&quot;请输入一个有效的正数作为半径！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算球的体积 V = (4/3) * π * r^3</span></span><br><span class="line">        <span class="type">double</span> volume = (<span class="number">4.0</span> / <span class="number">3.0</span>) * M_PI * std::<span class="built_in">pow</span>(radius, <span class="number">3</span>);</span><br><span class="line">        volumeOutput-&gt;<span class="built_in">setText</span>(QString::<span class="built_in">number</span>(volume));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Calculate_Volume.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculate_Volume.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line">Calculate_Volume::<span class="built_in">Calculate_Volume</span>(QWidget* parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent),</span><br><span class="line">    <span class="built_in">label</span>(<span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;请输入球的半径:&quot;</span>, <span class="keyword">this</span>)),</span><br><span class="line">    <span class="built_in">radiusInput</span>(<span class="keyword">new</span> <span class="built_in">QLineEdit</span>(<span class="keyword">this</span>)),</span><br><span class="line">    <span class="built_in">volumeOutput</span>(<span class="keyword">new</span> <span class="built_in">QLineEdit</span>(<span class="keyword">this</span>)),</span><br><span class="line">    <span class="built_in">calculateButton</span>(<span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;计算体积&quot;</span>, <span class="keyword">this</span>))</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    volumeOutput-&gt;<span class="built_in">setReadOnly</span>(<span class="literal">true</span>); <span class="comment">// 体积输出框只读</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建布局</span></span><br><span class="line">    QVBoxLayout* mainLayout = <span class="keyword">new</span> QVBoxLayout;</span><br><span class="line">    QHBoxLayout* firstRowLayout = <span class="keyword">new</span> QHBoxLayout;</span><br><span class="line">    QHBoxLayout* secondRowLayout = <span class="keyword">new</span> QHBoxLayout;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一个行：输入提示 + 半径文本框</span></span><br><span class="line">    firstRowLayout-&gt;<span class="built_in">addWidget</span>(label);</span><br><span class="line">    firstRowLayout-&gt;<span class="built_in">addWidget</span>(radiusInput);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第二个行：体积输出框 + 计算按钮</span></span><br><span class="line">    secondRowLayout-&gt;<span class="built_in">addWidget</span>(volumeOutput);</span><br><span class="line">    secondRowLayout-&gt;<span class="built_in">addWidget</span>(calculateButton);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将行布局添加到主布局</span></span><br><span class="line">    mainLayout-&gt;<span class="built_in">addLayout</span>(firstRowLayout);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addLayout</span>(secondRowLayout);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个中央窗口部件，并设置布局</span></span><br><span class="line">    QWidget* centralWidget = <span class="keyword">new</span> <span class="built_in">QWidget</span>(<span class="keyword">this</span>);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(mainLayout);</span><br><span class="line">    <span class="built_in">setCentralWidget</span>(centralWidget);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 连接信号和槽</span></span><br><span class="line">    <span class="built_in">connect</span>(calculateButton, &amp;QPushButton::clicked, <span class="keyword">this</span>, &amp;Calculate_Volume::onButtonClicked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Calculate_Volume::~<span class="built_in">Calculate_Volume</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculate_Volume.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    Calculate_Volume w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>效果展示：</strong></p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731206890639.png" alt="1731206890639"></p>
<h2 id="一些Qt的方法类"><a href="#一些Qt的方法类" class="headerlink" title="一些Qt的方法类"></a>一些Qt的方法类</h2><h3 id="QString类："><a href="#QString类：" class="headerlink" title="QString类："></a>QString类：</h3><p><code>QString</code> 是 Qt 中用于处理字符串的类，提供了丰富的字符串操作功能。以下是 <code>QString</code> 中一些常用的方法：</p>
<ol>
<li><strong>基础操作</strong></li>
</ol>
<ul>
<li><strong><code>QString::isEmpty()</code></strong><br>检查字符串是否为空，返回 <code>true</code> 表示为空。</li>
<li><strong><code>QString::isNull()</code></strong><br>检查字符串是否为 <code>null</code>，与 <code>isEmpty()</code> 不同的是，<code>null</code> 的字符串没有分配任何内存，而空字符串分配了内存但没有内容。</li>
<li><strong><code>QString::length()</code> 或 <code>QString::size()</code></strong><br>返回字符串的长度（字符个数）。</li>
<li><strong><code>QString::clear()</code></strong><br>清空字符串内容。</li>
</ul>
<ol start="2">
<li><strong>字符串拼接</strong></li>
</ol>
<ul>
<li><strong><code>QString::append(const QString &amp;str)</code></strong><br>在字符串末尾追加另一个字符串。</li>
<li><strong><code>operator+</code></strong><br>使用 <code>+</code> 操作符拼接两个字符串。例如：<code>str1 + str2</code>。</li>
</ul>
<ol start="3">
<li><strong>查找与替换</strong></li>
</ol>
<ul>
<li><strong><code>QString::contains(const QString &amp;str)</code></strong><br>检查字符串是否包含指定子串，返回布尔值。</li>
<li><strong><code>QString::indexOf(const QString &amp;str)</code></strong><br>返回子串首次出现的位置，如果未找到返回 <code>-1</code>。</li>
<li><strong><code>QString::lastIndexOf(const QString &amp;str)</code></strong><br>返回子串最后一次出现的位置。</li>
<li><strong><code>QString::replace(const QString &amp;before, const QString &amp;after)</code></strong><br>将指定子串替换为另一个字符串。</li>
</ul>
<ol start="4">
<li><strong>大小写转换</strong></li>
</ol>
<ul>
<li><strong><code>QString::toLower()</code></strong><br>将字符串转换为小写。</li>
<li><strong><code>QString::toUpper()</code></strong><br>将字符串转换为大写。</li>
</ul>
<ol start="5">
<li><strong>子串与截取</strong></li>
</ol>
<ul>
<li><strong><code>QString::left(int n)</code></strong><br>返回字符串左边的 <code>n</code> 个字符。</li>
<li><strong><code>QString::right(int n)</code></strong><br>返回字符串右边的 <code>n</code> 个字符。</li>
<li><strong><code>QString::mid(int position, int n = -1)</code></strong><br>从指定位置开始，提取 <code>n</code> 个字符的子串，若 <code>n</code> 为 <code>-1</code> 则提取到字符串末尾。</li>
</ul>
<ol start="6">
<li><strong>格式化输出</strong></li>
</ol>
<ul>
<li><p><strong><code>QString::arg()</code></strong><br>格式化字符串，将指定的参数值插入到占位符（如 <code>%1</code>）中。可以链式调用，插入多个参数。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QString message = <span class="built_in">QString</span>(<span class="string">&quot;Hello, %1! Your score is %2.&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;Alice&quot;</span>).<span class="built_in">arg</span>(<span class="number">90</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>QString::number()</code></strong><br>将数字转换为字符串，支持整数、浮点数等。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QString str = QString::<span class="built_in">number</span>(<span class="number">123.45</span>, <span class="string">&#x27;f&#x27;</span>, <span class="number">2</span>); <span class="comment">// 123.45</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="7">
<li><strong>转换与编码</strong></li>
</ol>
<ul>
<li><strong><code>QString::toStdString()</code></strong><br>将 <code>QString</code> 转换为标准 C++ 字符串 <code>std::string</code>。</li>
<li><strong><code>QString::toUtf8()</code></strong><br>将 <code>QString</code> 转换为 <code>QByteArray</code>，编码为 UTF-8。</li>
<li><strong><code>QString::fromUtf8(const char \*str)</code></strong><br>将 UTF-8 编码的 <code>char</code> 数组转换为 <code>QString</code>。</li>
<li><strong><code>QString::fromStdString(const std::string &amp;str)</code></strong><br>将标准 C++ 字符串转换为 <code>QString</code>。</li>
</ul>
<ol start="8">
<li><strong>去空格</strong></li>
</ol>
<ul>
<li><strong><code>QString::trimmed()</code></strong><br>去除字符串两端的空格字符。</li>
<li><strong><code>QString::simplified()</code></strong><br>去除字符串开头和结尾的空格，并将连续空格缩减为单个空格。</li>
</ul>
<ol start="9">
<li><strong>分割与连接</strong></li>
</ol>
<ul>
<li><strong><code>QString::split(const QString &amp;sep)</code></strong><br>按照指定分隔符将字符串分割成一个字符串列表，返回 <code>QStringList</code>。</li>
<li><strong><code>QStringList::join(const QString &amp;sep)</code></strong><br>将 <code>QStringList</code> 中的元素用指定字符串 <code>sep</code> 拼接成一个 <code>QString</code>。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QString str = <span class="string">&quot;  Hello World!  &quot;</span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; str.<span class="built_in">trimmed</span>();          <span class="comment">// 输出 &quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; str.<span class="built_in">toLower</span>();           <span class="comment">// 输出 &quot;  hello world!  &quot;</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; str.<span class="built_in">mid</span>(<span class="number">2</span>, <span class="number">5</span>);           <span class="comment">// 输出 &quot;Hello&quot;</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; str.<span class="built_in">contains</span>(<span class="string">&quot;World&quot;</span>);   <span class="comment">// 输出 true</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; str.<span class="built_in">replace</span>(<span class="string">&quot;World&quot;</span>, <span class="string">&quot;Qt&quot;</span>); <span class="comment">// 输出 &quot;  Hello Qt!  &quot;</span></span><br></pre></td></tr></table></figure>



<p>总之，要用查AI就行，没必要细究</p>
<h3 id="QMap，QHash，QVector类"><a href="#QMap，QHash，QVector类" class="headerlink" title="QMap，QHash，QVector类"></a>QMap，QHash，QVector类</h3><p><code>QMap</code> 和 <code>QHash</code> 是 Qt 中的键值对容器类，类似于标准库中的 <code>std::map</code> 和 <code>std::unordered_map</code>，它们用于存储键值对并支持快速查找。 </p>
<p><strong>QMap</strong></p>
<ul>
<li><strong>定义</strong>：<code>QMap</code> 是一个基于二叉树实现的键值对容器，键值对按键自动排序。</li>
<li><strong>特点</strong>：查找、插入、删除操作的时间复杂度为 O(log⁡n)</li>
<li><strong>适用场景</strong>：适合需要按顺序遍历键值对，或对键进行排序的场景。</li>
</ul>
<p><strong>常用方法</strong></p>
<ul>
<li>**<code>insert(key, value)</code>**：插入键值对。</li>
<li>**<code>value(key)</code>**：通过键查找值。</li>
<li>**<code>contains(key)</code>**：检查键是否存在。</li>
<li>**<code>remove(key)</code>**：移除指定键的键值对。</li>
<li><strong><code>keys()</code></strong> 和 **<code>values()</code>**：分别获取所有键和所有值的列表</li>
</ul>
<p>示例代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMap&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">exampleQMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    QMap&lt;QString, <span class="type">int</span>&gt; map;</span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">25</span>);</span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="string">&quot;Charlie&quot;</span>, <span class="number">28</span>);</span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">30</span>);</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Keys in sorted order:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = map.<span class="built_in">begin</span>(); it != map.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; it.<span class="built_in">key</span>() &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; it.<span class="built_in">value</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (map.<span class="built_in">contains</span>(<span class="string">&quot;Alice&quot;</span>)) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Alice&#x27;s age:&quot;</span> &lt;&lt; map.<span class="built_in">value</span>(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>在 <code>QMap</code> 中，<strong>键</strong>会自动按字典序（或称为”字母顺序”）排序，这种排序是基于键的自然顺序实现的。也就是说，当插入键值对时，<code>QMap</code> 会自动将键按顺序排列，而不考虑插入顺序。 </p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731208247189.png" alt="1731208247189"></p>
<p><strong>QHash</strong> </p>
<p><strong>定义</strong>：<code>QHash</code> 是一个基于哈希表实现的键值对容器，键值对的顺序不固定。</p>
<p><strong>特点</strong>：查找、插入、删除的平均时间复杂度为 O(1)O(1)O(1)，速度通常快于 <code>QMap</code>。</p>
<p><strong>适用场景</strong>：适合需要快速查找、插入和删除键值对，但不需要顺序或排序的场景。</p>
<p><strong>常用方法</strong> </p>
<p>**<code>insert(key, value)</code>**：插入键值对。</p>
<p>**<code>value(key)</code>**：通过键查找值。</p>
<p>**<code>contains(key)</code>**：检查键是否存在。</p>
<p>**<code>remove(key)</code>**：移除指定键的键值对。</p>
<p><strong><code>keys()</code></strong> 和 **<code>values()</code>**：分别获取所有键和所有值的列表。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QHash&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">exampleQHash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    QHash&lt;QString, <span class="type">int</span>&gt; hash;</span><br><span class="line">    hash.<span class="built_in">insert</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">25</span>);</span><br><span class="line">    hash.<span class="built_in">insert</span>(<span class="string">&quot;Charlie&quot;</span>, <span class="number">28</span>);</span><br><span class="line">    hash.<span class="built_in">insert</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">30</span>);</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Keys in arbitrary order:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = hash.<span class="built_in">begin</span>(); it != hash.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; it.<span class="built_in">key</span>() &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; it.<span class="built_in">value</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (hash.<span class="built_in">contains</span>(<span class="string">&quot;Bob&quot;</span>)) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Bob&#x27;s age:&quot;</span> &lt;&lt; hash.<span class="built_in">value</span>(<span class="string">&quot;Bob&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时就是没有顺序了</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731208388403.png" alt="1731208388403"></p>
<p><strong>QMap vs QHash</strong></p>
<ul>
<li><strong>顺序</strong>：<code>QMap</code> 自动排序键，<code>QHash</code> 没有顺序。</li>
<li><strong>性能</strong>：<code>QMap</code> 的查找速度较 <code>QHash</code> 慢，但在需要排序时是理想选择。<code>QHash</code> 在查找、插入和删除方面更快。</li>
</ul>
<p>选择建议</p>
<ul>
<li><strong>QMap</strong>：需要排序或按顺序遍历键值对时。</li>
<li><strong>QHash</strong>：仅需快速查找时，且不关心键的顺序时。</li>
</ul>
<p><strong>QVector</strong></p>
<p><code>QVector</code>（Qt库的<code>Vector</code>类） 和C++标准库里面的<code>Vector</code>类很相近</p>
<p>常用的方法有</p>
<p><strong>1. <code>append</code> 和 <code>prepend</code></strong></p>
<ul>
<li><code>append</code> 用于在向量末尾追加元素。</li>
<li><code>prepend</code> 用于在向量头部添加元素。</li>
</ul>
<p><strong>2. <code>at</code> 和 <code>operator[]</code></strong></p>
<ul>
<li><code>at</code> 用于访问指定索引的元素，带边界检查。</li>
<li><code>operator[]</code> 直接访问元素，不检查越界。</li>
</ul>
<p><strong>3. <code>size</code> 和 <code>isEmpty</code></strong></p>
<ul>
<li><code>size</code> 返回元素数量。</li>
<li><code>isEmpty</code> 判断是否为空。</li>
</ul>
<p><strong>4. <code>insert</code> 和 <code>remove</code></strong></p>
<ul>
<li><code>insert</code> 在指定位置插入元素。</li>
<li><code>remove</code> 删除指定位置的元素。</li>
</ul>
<p><strong>5. <code>contains</code> 和 <code>indexOf</code></strong></p>
<ul>
<li><code>contains</code> 判断是否包含某个值。</li>
<li><code>indexOf</code> 查找元素的索引，未找到返回-1。</li>
</ul>
<p><strong>6. <code>fill</code> 和 <code>resize</code></strong></p>
<ul>
<li><code>fill</code> 用指定值填充整个向量。</li>
<li><code>resize</code> 调整向量大小，可能会丢失或补充数据。</li>
</ul>
<p><strong>7. <code>toList</code> 和 <code>fromList</code></strong></p>
<ul>
<li><code>toList</code> 转换为 <code>QList</code>。</li>
<li><code>fromList</code> 将 <code>QList</code> 转换为 <code>QVector</code>。</li>
</ul>
<p>示例代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QVector&lt;<span class="type">int</span>&gt; vec;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 添加元素</span></span><br><span class="line">    vec.<span class="built_in">append</span>(<span class="number">10</span>); <span class="comment">// 在末尾添加 10</span></span><br><span class="line">    vec.<span class="built_in">append</span>(<span class="number">20</span>); <span class="comment">// 在末尾添加 20</span></span><br><span class="line">    vec.<span class="built_in">prepend</span>(<span class="number">5</span>); <span class="comment">// 在头部添加 5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 访问元素</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;First element:&quot;</span> &lt;&lt; vec.<span class="built_in">at</span>(<span class="number">0</span>);      <span class="comment">// 输出 5</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Second element:&quot;</span> &lt;&lt; vec[<span class="number">1</span>];       <span class="comment">// 输出 10</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Vector size:&quot;</span> &lt;&lt; vec.<span class="built_in">size</span>();      <span class="comment">// 输出 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 判断和查找</span></span><br><span class="line">    <span class="keyword">if</span> (vec.<span class="built_in">contains</span>(<span class="number">20</span>)) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Contains 20 at index:&quot;</span> &lt;&lt; vec.<span class="built_in">indexOf</span>(<span class="number">20</span>); <span class="comment">// 输出索引</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 插入和删除</span></span><br><span class="line">    vec.<span class="built_in">insert</span>(<span class="number">1</span>, <span class="number">15</span>);            <span class="comment">// 在索引 1 处插入 15  原来索引1处及其后续的元素会向后移动一个位置，以腾出空间放入新元素。</span></span><br><span class="line">    vec.<span class="built_in">remove</span>(<span class="number">2</span>);                <span class="comment">// 删除索引 2 的元素</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. 修改大小</span></span><br><span class="line">    vec.<span class="built_in">resize</span>(<span class="number">5</span>);                <span class="comment">// 调整大小为 5，新增元素初始化为 0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. 转换</span></span><br><span class="line">    QList&lt;<span class="type">int</span>&gt; list = vec.<span class="built_in">toList</span>();   <span class="comment">// 转为 QList</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出所有元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : vec) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h3 id="QList和QLinkedList类"><a href="#QList和QLinkedList类" class="headerlink" title="QList和QLinkedList类"></a>QList和QLinkedList类</h3><p>在 Qt 中，<code>QList</code> 和 <code>QLinkedList</code> 是两种常用的容器类，分别适用于不同的使用场景。它们都是存储一组元素的线性容器，但在内存布局和性能上有所区别。 </p>
<p><strong>QList</strong> </p>
<p><code>QList</code> 存储结构体时，会选择存储指向结构体的指针，以减少内存开销，尤其是在隐式共享（copy-on-write）机制下，不同的 <code>QList</code> 可以共享结构体数据。然而，在 <strong>插入</strong> 和 <strong>删除</strong> 操作时，它的效率相对较低 </p>
<p><strong>常用方法</strong></p>
<ul>
<li><code>append(const T &amp;value)</code>: 在列表末尾添加元素。</li>
<li><code>prepend(const T &amp;value)</code>: 在列表开头添加元素。</li>
<li><code>insert(int index, const T &amp;value)</code>: 在指定索引位置插入元素。</li>
<li><code>removeAt(int index)</code>: 删除指定索引的元素。</li>
<li><code>at(int index)</code>: 获取指定索引处的元素（只读）。</li>
<li><code>contains(const T &amp;value)</code>: 检查列表中是否包含某个元素。</li>
<li><code>size()</code>: 返回列表中的元素数量。</li>
<li><code>isEmpty()</code>: 检查列表是否为空。</li>
<li><code>clear()</code>: 清空列表中的所有元素。</li>
</ul>
<p>示例代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QList&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    QList&lt;<span class="type">int</span>&gt; list;</span><br><span class="line">    list.<span class="built_in">append</span>(<span class="number">10</span>);</span><br><span class="line">    list.<span class="built_in">append</span>(<span class="number">20</span>);</span><br><span class="line">    list.<span class="built_in">prepend</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;List elements:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; list.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; list.<span class="built_in">at</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (list.<span class="built_in">contains</span>(<span class="number">10</span>)) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;List contains 10.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    list.<span class="built_in">removeAt</span>(<span class="number">1</span>); <span class="comment">// Removes element at index 1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;After removing element at index 1:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> val : list) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p><strong>QLinkedList</strong> </p>
<p><code>QLinkedList</code> 是基于链表实现的容器类，适合需要频繁在列表头部或中间插入或删除元素的场景。由于链表不支持随机访问，因此获取指定位置的元素会比较慢。 </p>
<p><strong>常用方法</strong></p>
<ul>
<li><code>append(const T &amp;value)</code>: 在链表末尾添加元素。</li>
<li><code>prepend(const T &amp;value)</code>: 在链表开头添加元素。</li>
<li><code>insert(iterator pos, const T &amp;value)</code>: 在指定位置的迭代器处插入元素。</li>
<li><code>removeFirst()</code>: 删除第一个元素。</li>
<li><code>removeLast()</code>: 删除最后一个元素。</li>
<li><code>size()</code>: 返回链表中的元素数量。</li>
<li><code>isEmpty()</code>: 检查链表是否为空。</li>
<li><code>clear()</code>: 清空链表中的所有元素。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLinkedList&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    QLinkedList&lt;<span class="type">int</span>&gt; linkedList;</span><br><span class="line">    linkedList.<span class="built_in">append</span>(<span class="number">10</span>);</span><br><span class="line">    linkedList.<span class="built_in">append</span>(<span class="number">20</span>);</span><br><span class="line">    linkedList.<span class="built_in">prepend</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;LinkedList elements:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> val : linkedList) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    linkedList.<span class="built_in">removeFirst</span>(); <span class="comment">// Removes the first element</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;After removing the first element:&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> val : linkedList) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>使用场景总结</strong></p>
<ul>
<li><strong>QList</strong>：适用于需要频繁访问元素的场景，且数据的增删操作主要集中在末尾。</li>
<li><strong>QLinkedList</strong>：适用于需要频繁在头部或中间插入或删除元素的场景。</li>
<li><strong>QMap</strong>：适合需要按顺序存储键值对，或在键的基础上进行排序的场景。</li>
<li><strong>QHash</strong>：适合不关心元素顺序且需要快速查找的场景。</li>
</ul>
<p>如果你存储的是结构体对象，并且这些结构体通常很大，那么 <code>QList</code> 存储结构体时的内存占用相对 <code>QVector</code> 更小 ,毕竟QList存的是指针</p>
<h3 id="QVariant类"><a href="#QVariant类" class="headerlink" title="QVariant类"></a>QVariant类</h3><p><code>QVariant</code> 是 Qt 中一个非常重要的类，它是一个<strong>通用容器</strong>，能够存储多种类型的数据。<code>QVariant</code> 可以用来在不同类型之间进行转换，尤其在 Qt 中的数据模型和视图类（如 <code>QTableView</code>, <code>QListView</code>）中非常常见。它提供了一种标准化的方式来存储不同类型的数据，同时也支持类型安全的类型转换。</p>
<p>在 Qt 中，<code>QVariant</code> 常用于存储如字符串、数字、日期、时间等多种不同类型的数据，并且支持这些数据类型之间的互相转换。</p>
<p>方法介绍：</p>
<p><strong>1. 构造函数</strong></p>
<ul>
<li><code>QVariant()</code>：创建一个空的 <code>QVariant</code>。</li>
<li><code>QVariant(int)</code>、<code>QVariant(double)</code> 等：直接用基本数据类型来构造 <code>QVariant</code>。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">intVariant</span><span class="params">(<span class="number">42</span>)</span></span>;           <span class="comment">// 存储整数</span></span><br><span class="line"><span class="function">QVariant <span class="title">doubleVariant</span><span class="params">(<span class="number">3.14</span>)</span></span>;       <span class="comment">// 存储浮点数</span></span><br><span class="line"><span class="function">QVariant <span class="title">stringVariant</span><span class="params">(<span class="string">&quot;Hello&quot;</span>)</span></span>;    <span class="comment">// 存储字符串</span></span><br><span class="line">QVariant emptyVariant;              <span class="comment">// 创建空的 QVariant</span></span><br></pre></td></tr></table></figure>

<p><strong>2. isValid()</strong></p>
<p>判断 <code>QVariant</code> 是否包含有效数据。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QVariant v;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">isValid</span>();  <span class="comment">// 输出：false</span></span><br><span class="line"></span><br><span class="line">v = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">isValid</span>();  <span class="comment">// 输出：true</span></span><br></pre></td></tr></table></figure>

<p><strong>3. isNull()</strong></p>
<p>检查 <code>QVariant</code> 是否为空（空指针或未初始化的值）。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QVariant nullVariant;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; nullVariant.<span class="built_in">isNull</span>();  <span class="comment">// 输出：true</span></span><br><span class="line"></span><br><span class="line"><span class="function">QVariant <span class="title">intVariant</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; intVariant.<span class="built_in">isNull</span>();   <span class="comment">// 输出：false</span></span><br></pre></td></tr></table></figure>

<p><strong>4. clear()</strong></p>
<p>清除 <code>QVariant</code> 的值，使其变成空。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">123</span>)</span></span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v;           <span class="comment">// 输出：QVariant(int, 123)</span></span><br><span class="line">v.<span class="built_in">clear</span>();</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">isNull</span>();   <span class="comment">// 输出：true</span></span><br></pre></td></tr></table></figure>

<p><strong>5. typeName()</strong></p>
<p>返回 <code>QVariant</code> 中存储数据的类型名称。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cpp复制代码<span class="function">QVariant <span class="title">intVariant</span><span class="params">(<span class="number">42</span>)</span></span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; intVariant.<span class="built_in">typeName</span>();  <span class="comment">// 输出：int</span></span><br><span class="line"></span><br><span class="line"><span class="function">QVariant <span class="title">stringVariant</span><span class="params">(<span class="string">&quot;Hello&quot;</span>)</span></span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; stringVariant.<span class="built_in">typeName</span>();  <span class="comment">// 输出：QString</span></span><br></pre></td></tr></table></figure>

<p><strong>6. canConvert()</strong></p>
<p>检查 <code>QVariant</code> 是否可以转换为指定类型。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">42</span>)</span></span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">canConvert</span>&lt;QString&gt;();   <span class="comment">// 输出：true</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">canConvert</span>&lt;QDate&gt;();     <span class="comment">// 输出：false</span></span><br></pre></td></tr></table></figure>

<p><strong>7. convert()</strong></p>
<p>将 <code>QVariant</code> 转换为指定类型，如果转换成功则返回 <code>true</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">42</span>)</span></span>;</span><br><span class="line">v.<span class="built_in">convert</span>(QVariant::String);</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v;  <span class="comment">// 输出：QVariant(QString, &quot;42&quot;)</span></span><br></pre></td></tr></table></figure>

<p><strong>8. toInt()、toDouble()、toString() 等</strong></p>
<p>将 <code>QVariant</code> 转换为不同的数据类型。常用的转换方法包括 <code>toInt()</code>、<code>toDouble()</code>、<code>toString()</code>、<code>toBool()</code> 等。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="string">&quot;123&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> intValue = v.<span class="built_in">toInt</span>();             <span class="comment">// 转换为 int</span></span><br><span class="line"><span class="type">double</span> doubleValue = v.<span class="built_in">toDouble</span>();     <span class="comment">// 转换为 double</span></span><br><span class="line">QString stringValue = v.<span class="built_in">toString</span>();    <span class="comment">// 转换为 QString</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; intValue;      <span class="comment">// 输出：123</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; doubleValue;   <span class="comment">// 输出：123.0</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; stringValue;   <span class="comment">// 输出：&quot;123&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>9. setValue()</strong></p>
<p>使用模板方法存储任意类型的数据。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QVariant v;</span><br><span class="line">v.<span class="built_in">setValue</span>&lt;QString&gt;(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">toString</span>();   <span class="comment">// 输出：&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>10. value()</strong></p>
<p>从 <code>QVariant</code> 中提取特定类型的数据。这个方法使用模板类型 <code>T</code> 来指定需要提取的类型。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QVariant v = QVariant::<span class="built_in">fromValue</span>(<span class="number">3.14</span>);  <span class="comment">// 存储一个 double</span></span><br><span class="line"><span class="type">double</span> d = v.<span class="built_in">value</span>&lt;<span class="type">double</span>&gt;();            <span class="comment">// 提取 double 值</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; d;                           <span class="comment">// 输出：3.14</span></span><br></pre></td></tr></table></figure>

<p><strong>11. fromValue()</strong></p>
<p>静态模板方法，用于将任意类型的数据转换为 <code>QVariant</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QVariant variant = QVariant::<span class="built_in">fromValue</span>&lt;QString&gt;(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; variant.<span class="built_in">toString</span>();  <span class="comment">// 输出：&quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>12. type()</strong></p>
<p>返回 <code>QVariant::Type</code> 类型的枚举值，表示当前存储的数据类型。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (v.<span class="built_in">type</span>() == QVariant::Int) &#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;It&#x27;s an int&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>13. isDetached()</strong></p>
<p>判断 <code>QVariant</code> 是否已从其共享数据中分离（浅拷贝时用于检测）。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">42</span>)</span></span>;</span><br><span class="line">QVariant vCopy = v;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">isDetached</span>();  <span class="comment">// 输出：false</span></span><br><span class="line"></span><br><span class="line">v = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v.<span class="built_in">isDetached</span>();  <span class="comment">// 输出：true</span></span><br></pre></td></tr></table></figure>

<p><strong>14. swap()</strong></p>
<p>交换两个 <code>QVariant</code> 的值。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v1</span><span class="params">(<span class="number">42</span>)</span></span>;</span><br><span class="line"><span class="function">QVariant <span class="title">v2</span><span class="params">(<span class="string">&quot;Hello&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v1.<span class="built_in">swap</span>(v2);</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v1.<span class="built_in">toString</span>();  <span class="comment">// 输出：&quot;Hello&quot;</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; v2.<span class="built_in">toInt</span>();     <span class="comment">// 输出：42</span></span><br></pre></td></tr></table></figure>





<p><strong>使用代码例子：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtCore/QCoreApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVariant&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMap&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> iNo;</span><br><span class="line">    QString strName;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Q_DECLARE_METATYPE</span>(Student);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">QVariant <span class="title">qv1</span><span class="params">(<span class="number">298</span>)</span></span>;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;qv1&quot;</span> &lt;&lt; qv1.<span class="built_in">toInt</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="function">QVariant <span class="title">qv2</span><span class="params">(<span class="string">&quot;this is string&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;qv2&quot;</span> &lt;&lt; qv2.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    QMap&lt;QString, QVariant&gt; qmap;</span><br><span class="line"></span><br><span class="line">    qmap[<span class="string">&quot;int&quot;</span>] = <span class="number">2000</span>;  <span class="comment">//整型</span></span><br><span class="line">    qmap[<span class="string">&quot;double&quot;</span>] = <span class="number">2000.0</span>; <span class="comment">//浮点型</span></span><br><span class="line">    qmap[<span class="string">&quot;string&quot;</span>] = <span class="string">&quot;20000&quot;</span>; <span class="comment">//字符型</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//输出：转换函数来处理</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; qmap[<span class="string">&quot;int&quot;</span>] &lt;&lt; qmap[<span class="string">&quot;int&quot;</span>].<span class="built_in">toInt</span>();</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; qmap[<span class="string">&quot;double&quot;</span>] &lt;&lt; qmap[<span class="string">&quot;double&quot;</span>].<span class="built_in">toInt</span>();</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; qmap[<span class="string">&quot;string&quot;</span>] &lt;&lt; qmap[<span class="string">&quot;string&quot;</span>].<span class="built_in">toString</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个字符串列表:QStringList</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; endl;</span><br><span class="line">    QStringList qsl;<span class="comment">//QStringList是QList&lt;QString&gt;的别名</span></span><br><span class="line">    qsl &lt;&lt; <span class="string">&quot;A&quot;</span> &lt;&lt; <span class="string">&quot;B&quot;</span> &lt;&lt; <span class="string">&quot;C&quot;</span> &lt;&lt; <span class="string">&quot;D&quot;</span> &lt;&lt; <span class="string">&quot;E&quot;</span> &lt;&lt; <span class="string">&quot;F&quot;</span> &lt;&lt; <span class="string">&quot;G&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QVariant <span class="title">qvsl</span><span class="params">(qsl)</span></span>; <span class="comment">//将列表存在一个QVariant变量里面</span></span><br><span class="line">    <span class="keyword">if</span> (qvsl.<span class="built_in">type</span>() == QVariant::StringList)</span><br><span class="line">    &#123;</span><br><span class="line">        QStringList qlist = qvsl.<span class="built_in">toStringList</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; qlist.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">qDebug</span>() &lt;&lt; qlist.<span class="built_in">at</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; endl;</span><br><span class="line">    Student stu;</span><br><span class="line">    stu.iNo = <span class="number">202201</span>;</span><br><span class="line">    stu.score = <span class="number">715</span>;</span><br><span class="line">    stu.strName = <span class="string">&quot;sunny&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用静态的方法保存数据</span></span><br><span class="line">    QVariant Qvstu = QVariant::<span class="built_in">fromValue</span>(stu);</span><br><span class="line">    <span class="keyword">if</span> (Qvstu.<span class="built_in">canConvert</span>&lt;Student&gt;())</span><br><span class="line">    &#123;</span><br><span class="line">        Student temp_stu = Qvstu.<span class="built_in">value</span>&lt;Student&gt;();<span class="comment">//获得数据</span></span><br><span class="line">        Student qtemp = <span class="built_in">qvariant_cast</span>&lt;Student&gt;(Qvstu);<span class="comment">//获取数据</span></span><br><span class="line">        <span class="comment">/*qvariant_cast&lt;Student&gt;(Qvstu)：这是一个独立的模板函数，对 QVariant 进行安全转换。</span></span><br><span class="line"><span class="comment">        如果类型不匹配，它会返回一个默认构造的对象（如 int 类型返回 0，类对象返回默认构造的实例）。</span></span><br><span class="line"><span class="comment">        比直接调用 value&lt;T&gt;() 更安全，可以避免在类型不匹配时引发错误。*/</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; temp_stu.iNo &lt;&lt; temp_stu.score &lt;&lt; temp_stu.strName;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; qtemp.iNo &lt;&lt; qtemp.score &lt;&lt; qtemp.strName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>运行结果：</strong></p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731228124532.png" alt="1731228124532"></p>
<h2 id="QT开发常见控件"><a href="#QT开发常见控件" class="headerlink" title="QT开发常见控件"></a>QT开发常见控件</h2><h3 id="Layouts-Spacers"><a href="#Layouts-Spacers" class="headerlink" title="Layouts&amp;Spacers"></a>Layouts&amp;Spacers</h3><h4 id="手动操作"><a href="#手动操作" class="headerlink" title="手动操作"></a>手动操作</h4><p>首先我们创建一个<code>Qt Widgets Application</code> （qt窗体程序）</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731376698193.png" alt="1731376698193"></p>
<p>进来之后，解决方案资源管理器有一个ui文件</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731376779502.png" alt="1731376779502"></p>
<p>双击这个.ui文件，即可进入Qt的设计板块</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731376805940.png" alt="1731376805940"></p>
<p>其中，这里有Layouts(布局)和Spacers(间隔)</p>
<ul>
<li>Vertical Layout	垂直布局</li>
<li>Horizontal Layout     横向（水平）布局</li>
<li>Grid Layout     网格（栅格）布局</li>
<li>Form Layout    表单布局</li>
<li>Horizontal Spacer     水平弹簧</li>
<li>Vertical Spacer    垂直弹簧</li>
</ul>
<p>菜单栏有布局的快捷键：</p>
<p>例如下图显示的垂直布局</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731377196766.png" alt="1731377196766"></p>
<p>先选中这三个控件，然后点击一下垂直布局<br><img src="/Qt%E6%A1%86%E6%9E%B6/1731377247782.png" alt="1731377247782"></p>
<p>就会自动帮我们布局</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731377267567.png" alt="1731377267567"></p>
<ul>
<li>Vertical Layout	垂直布局</li>
</ul>
<p>包含对象都垂直排列开</p>
<ul>
<li>Horizontal Layout     横向（水平）布局</li>
</ul>
<p>包含的对象都横向排列开</p>
<ul>
<li>Grid Layout     网格（栅格）布局</li>
</ul>
<p>将控件放置到网格中布局，它本身会从父窗口或父布局中占据尽可能多的界面空间，然后把自己的空间划分为行和列，再把每个控件塞到设置好的一个或多个单元格中。通常情况下 QGridLayout不需要自己添加空白条 QSpacerltem，因为其他功能控件把各自的单元格占据之后，剩下没控件占据的单元格自然就是空的，空的格子默认里面什么都没有，也没有空白条。</p>
<ul>
<li>Form Layout    表单布局</li>
</ul>
<p>专门用于管理输入控件和与之相关的标签等表单布局，QFormLavout固定为两列布局，并针对表单做了建模，配套了一堆方便使用的函数。网格布局器的基本单元是单元格，而表单布局器的基本单元是行。表单布局器是高度建模并封装的，它没有 addWidget0和 addLavout0)之类的函数，它只有addRow()函数。表单布局器中一行的空间可以由多个控件占据，也可以由一个控件占据。</p>
<p>弹簧：</p>
<ul>
<li><p>Horizontal Spacer     水平弹簧</p>
</li>
<li><p>Vertical Spacer    垂直弹簧</p>
</li>
</ul>
<p>用于在布局中创建灵活的空白空间。弹簧的主要作用是控制控件之间的间距，提供空间的拉伸或压缩效果，以实现布局中的自适应。 </p>
<p>在Qt中，给控件设置布局和给顶层窗口设置布局是两个不同层次的事情，目的是为了实现自适应布局效果和确保整个界面按期望排布。 </p>
<p>顶层窗口（如<code>QMainWindow</code>或<code>QWidget</code>）需要有一个布局来管理其内部的控件或子布局。如果不为顶层窗口设置布局，虽然可以在其中手动放置控件，但它们不会自动调整位置和大小，不具备自适应能力。</p>
<p>为顶层窗口设置布局后，Qt会自动管理窗口内部的空间分配，确保在窗口大小变化时，布局中的控件能够合理调整，达到更好的用户体验。</p>
<p>就像这样，这样是没有设置顶层布局，即使运行起来了，弹簧也不会起作用</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731410143158.png" alt="1731410143158"></p>
<p>所以我们要在空白处右键，点击布局，选择一个布局，例如这里选择了栅格布局，ctrl+s保存之后，运行，这时候弹簧就可以进行伸缩了</p>
<h4 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h4><p>栅格布局：</p>
<p>我们先实现往栅格布局上面放一个按钮，注释都标注好了</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Grid_Layout::<span class="built_in">Grid_Layout</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);<span class="comment">//this 是当前对象，表示setupUi会把设计的UI加载到这个对象上。(（通常由 Qt Designer 生成的 .ui 文件编译而成）)</span></span><br><span class="line">    button1 = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="keyword">this</span>);<span class="comment">//创建一个新的按钮控件 button1，并将其父对象设置为当前窗口或小部件 (this)。在 Qt 中，设置父对象后，父对象负责管理子对象的内存，即在父对象销毁时会自动销毁子对象。</span></span><br><span class="line">    button1-&gt;<span class="built_in">setText</span>(<span class="string">&quot;第一区：顶不菜单栏选项&quot;</span>);<span class="comment">//设置 button1 按钮的文本内容为 &quot;第一区：顶不菜单栏选项&quot;。这段文本将会显示在按钮上。</span></span><br><span class="line">    button1-&gt;<span class="built_in">setFixedHeight</span>(<span class="number">40</span>);<span class="comment">//设置 button1 按钮的固定高度为 40 像素，使其在布局中不受拉伸影响。</span></span><br><span class="line">    button1-&gt;<span class="built_in">setSizePolicy</span>(QSizePolicy::Expanding, QSizePolicy::Expanding);<span class="comment">//设置 button1 的尺寸策略，将水平方向和垂直方向的尺寸策略都设置为 Expanding。Expanding 表示按钮在布局中会尽可能扩展以占满可用空间（受限于布局约束），而不是保持固定大小。</span></span><br><span class="line">    pGrid_layouts = <span class="keyword">new</span> <span class="built_in">QGridLayout</span>();<span class="comment">//创建一个新的网格布局对象 pGrid_layouts。</span></span><br><span class="line">    pGrid_layouts-&gt;<span class="built_in">setContentsMargins</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//设置 pGrid_layouts 布局的内容边距为 0，使布局的控件紧贴窗口边缘。参数 (0, 0, 0, 0) 依次表示左、上、右、下的边距为 0。</span></span><br><span class="line">    pGrid_layouts-&gt;<span class="built_in">addWidget</span>(button1, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//将 button1 添加到 pGrid_layouts 的第 0 行、第 1 列（从 0 开始计数）的单元格中。在网格布局中，可以通过指定行和列的位置来组织控件的位置。</span></span><br><span class="line">    <span class="built_in">setLayout</span>(pGrid_layouts);<span class="comment">//将 pGrid_layouts 设置为当前窗口或小部件的布局。一旦设置了布局，布局管理器将会负责自动调整和排列该窗口中的所有控件。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上代码有一些疑问：</p>
<p><strong>1.固定高度和 <code>Expanding</code> 尺寸策略的</strong> </p>
<p>固定高度优先于 <code>Expanding</code>，导致按钮高度固定，只有水平方向会尝试扩展。所以这两者并不冲突，固定高度在垂直方向优先，<code>Expanding</code> 只在水平方向有效。 </p>
<p><strong>2. 网格布局的行列数</strong> </p>
<p><code>QGridLayout</code> 的行列数是动态的，由添加的控件位置决定。 </p>
<p>行列数是根据 <code>addWidget</code> 方法中给出的行和列参数动态生成的。没有预先设置网格大小，布局会根据所添加的控件自动计算需要的行和列数。 </p>
<p>例如</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pGrid_layouts-&gt;<span class="built_in">addWidget</span>(button1, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">pGrid_layouts-&gt;<span class="built_in">addWidget</span>(button2, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">pGrid_layouts-&gt;<span class="built_in">addWidget</span>(button3, <span class="number">1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><code>pGrid_layouts</code> 会自动创建一个 2 行 × 2 列的网格布局。 </p>
<p>再介绍下<code>addWidget</code></p>
<p>指定控件的对齐方式和弹性策略： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">addWidget</span>(</span><br><span class="line">    QWidget *widget, </span><br><span class="line">    <span class="type">int</span> row, <span class="type">int</span> column, <span class="type">int</span> rowSpan, <span class="type">int</span> columnSpan, </span><br><span class="line">    Qt::Alignment alignment, </span><br><span class="line">    QSizePolicy::Policy horizontalPolicy, </span><br><span class="line">    QSizePolicy::Policy verticalPolicy</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<p><code>widget</code>：要添加的控件。</p>
<p><code>row</code>：控件所在的起始行。</p>
<p><code>column</code>：控件所在的起始列。</p>
<p><code>rowSpan</code>：控件跨越的行数。</p>
<p><code>columnSpan</code>：控件跨越的列数。</p>
<p><code>alignment</code>：控件的对齐方式（如 <code>Qt::AlignCenter</code>、<code>Qt::AlignLeft</code>）。</p>
<p><code>horizontalPolicy</code>：控件在水平方向上的尺寸策略（如 <code>QSizePolicy::Expanding</code>，表示水平方向上可以扩展）。</p>
<p><code>verticalPolicy</code>：控件在垂直方向上的尺寸策略（如 <code>QSizePolicy::Fixed</code>，表示垂直方向上的尺寸固定）。</p>
<p><strong>作用</strong>：允许更精确地控制控件的对齐方式和尺寸策略。尺寸策略用于指定控件如何在布局中调整自己的大小。 </p>
<p><strong>表单布局</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Form_Layout::<span class="built_in">Form_Layout</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建表单布局指针</span></span><br><span class="line">    QFormLayout* qLayout = <span class="keyword">new</span> <span class="built_in">QFormLayout</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    le1 = <span class="keyword">new</span> <span class="built_in">QLineEdit</span>(); <span class="comment">// 输入学号</span></span><br><span class="line">    le2 = <span class="keyword">new</span> <span class="built_in">QLineEdit</span>(); <span class="comment">// 输入姓名</span></span><br><span class="line">    le3 = <span class="keyword">new</span> <span class="built_in">QLineEdit</span>(); <span class="comment">// 输入学校</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加行：第一列是标签，第二列是QLineEdit</span></span><br><span class="line">    qLayout-&gt;<span class="built_in">addRow</span>(<span class="string">&quot;学号&quot;</span>, le1);</span><br><span class="line">    qLayout-&gt;<span class="built_in">addRow</span>(<span class="string">&quot;姓名&quot;</span>, le2);</span><br><span class="line">    qLayout-&gt;<span class="built_in">addRow</span>(<span class="string">&quot;学校&quot;</span>, le3);</span><br><span class="line"></span><br><span class="line">    qLayout-&gt;<span class="built_in">setSpacing</span>(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">    qLayout-&gt;<span class="built_in">setRowWrapPolicy</span>(QFormLayout::WrapAllRows);</span><br><span class="line">    qLayout-&gt;<span class="built_in">setLabelAlignment</span>(Qt::AlignLeft);<span class="comment">//设置标签对其方式</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;表单布局测试案例&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置当前窗口的布局为 qLayout</span></span><br><span class="line">    <span class="built_in">setLayout</span>(qLayout);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>其中</p>
<p><code>QFormLayout::setRowWrapPolicy</code> 方法用于设置行的换行策略，即当空间不足以显示一行时，控件在布局中的排列方式。 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QFormLayout::setRowWrapPolicy</span><span class="params">(QFormLayout::RowWrapPolicy policy)</span></span>;</span><br></pre></td></tr></table></figure>

<p>参数：<code>RowWrapPolicy</code></p>
<p><code>RowWrapPolicy</code> 是一个枚举类型，提供了三种策略：</p>
<ul>
<li>**<code>QFormLayout::DontWrapRows</code>**：不换行。当空间不足时，控件会被截断，但不会自动换行。</li>
<li>**<code>QFormLayout::WrapLongRows</code>**：仅在行的内容过长时换行。此策略在行内容（标签和控件）超过窗口宽度时，才会将控件换到下一行。</li>
<li>**<code>QFormLayout::WrapAllRows</code>**：总是换行。标签在一行，控件自动放置在下一行，形成两行布局（标签一行，控件一行）。</li>
</ul>
<p><code>setLabelAlignment</code> 用于设置标签的对齐方式，即标签在控件旁边的布局位置（如左对齐或右对齐）。</p>
<p>方法定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QFormLayout::setLabelAlignment</span><span class="params">(Qt::Alignment alignment)</span></span>;</span><br></pre></td></tr></table></figure>

<p>参数 :</p>
<p><code>alignment</code> 使用 <code>Qt::Alignment</code> 枚举类进行设置。常用的值包括：</p>
<ul>
<li>**<code>Qt::AlignLeft</code>**：左对齐标签。</li>
<li>**<code>Qt::AlignRight</code>**：右对齐标签，常用于在窗口宽度较大时使标签在布局中右对齐。</li>
<li>**<code>Qt::AlignHCenter</code>**：水平居中对齐标签。</li>
<li>**<code>Qt::AlignJustify</code>**：标签的对齐方式为两端对齐。</li>
</ul>
<h3 id="Button控件"><a href="#Button控件" class="headerlink" title="Button控件"></a>Button控件</h3><h4 id="控件介绍"><a href="#控件介绍" class="headerlink" title="控件介绍"></a>控件介绍</h4><p><strong>Push Button  (QPushButton)</strong> </p>
<p>这是最常见的按钮，用于触发简单的命令或操作，比如“确定”或“取消”。 </p>
<p><strong>Tool Button (QToolButton)</strong> </p>
<p>通常用于工具栏或小型控件，可以显示一个图标（或者文本）并触发特定的操作。 </p>
<p><strong>Radio Button (QRadioButton)</strong> </p>
<p>用于创建一组互斥的选项（只能选择一个）。 </p>
<p><strong>Check Box (QCheckBox)</strong> </p>
<p>允许用户选择多个选项或一个布尔值。 </p>
<p><strong>Command Link Button (QCommandLinkButton)</strong> </p>
<p>这是一个扩展了 <code>QPushButton</code> 的按钮，通常用于对话框中提供详细的操作说明。 </p>
<p><strong>Dialog Button Box (QDialogButtonBox)</strong> </p>
<p><strong>功能</strong>:<br>用于对话框中管理多个标准按钮（如“确定”、“取消”等）。<br><strong>特点</strong>:</p>
<ul>
<li>提供了标准按钮（如 <code>QDialogButtonBox::Ok</code>）。</li>
<li>布局自动调整，不需要手动管理按钮的位置。</li>
<li>方便处理对话框的信号和槽。</li>
</ul>
<h4 id="代码示例-1"><a href="#代码示例-1" class="headerlink" title="代码示例"></a>代码示例</h4><p>做一个按钮的集合，并结合上一期学到的布局</p>
<p>头文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QToolButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QRadioButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCheckBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCommandLinkButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDialogButtonBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QHBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_Button.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Button</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Button</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ButtonClass ui;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QPushButton* pb1;</span><br><span class="line">    QToolButton* tb1;</span><br><span class="line">    QRadioButton* rb1;</span><br><span class="line">    QRadioButton* rb2;</span><br><span class="line">    QCheckBox* cb1;</span><br><span class="line">    QCheckBox* cb2;</span><br><span class="line">    QCommandLinkButton* clb1;</span><br><span class="line">    QDialogButtonBox* dbb1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">pushbutton_clicked</span><span class="params">()</span></span>;      <span class="comment">//QPushButton</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">toolbutton_clicked</span><span class="params">()</span></span>;      <span class="comment">// QToolButton</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">radiobutton1_clicked</span><span class="params">()</span></span>;    <span class="comment">// QRadioButton 1</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">radiobutton2_clicked</span><span class="params">()</span></span>;    <span class="comment">// QRadioButton 2</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkbox1_clicked</span><span class="params">()</span></span>;       <span class="comment">// QCheckBox 1</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkbox2_clicked</span><span class="params">()</span></span>;       <span class="comment">// QCheckBox 2</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">commandlinkbutton_clicked</span><span class="params">()</span></span>; <span class="comment">// QCommandLinkButton</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dialogbuttonbox_clicked</span><span class="params">(QAbstractButton* button)</span></span>; <span class="comment">// QDialogButtonBox</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>cpp文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Button.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line">Button::<span class="built_in">Button</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建中央窗口</span></span><br><span class="line">    QWidget* centralWidget = <span class="keyword">new</span> <span class="built_in">QWidget</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">setCentralWidget</span>(centralWidget);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建垂直布局</span></span><br><span class="line">    QVBoxLayout* mainLayout = <span class="keyword">new</span> <span class="built_in">QVBoxLayout</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. QPushButton</span></span><br><span class="line">    pb1 = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;Push Button&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addWidget</span>(pb1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. QToolButton</span></span><br><span class="line">    tb1 = <span class="keyword">new</span> <span class="built_in">QToolButton</span>(<span class="keyword">this</span>);</span><br><span class="line">    tb1-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Tool Button&quot;</span>);</span><br><span class="line">    tb1-&gt;<span class="built_in">setIcon</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;:/icons/tool.png&quot;</span>));</span><br><span class="line">    tb1-&gt;<span class="built_in">setToolButtonStyle</span>(Qt::ToolButtonTextUnderIcon);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addWidget</span>(tb1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. QRadioButton</span></span><br><span class="line">    rb1 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;Radio Button 1&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    rb2 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;Radio Button 2&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    QHBoxLayout* radioLayout = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    radioLayout-&gt;<span class="built_in">addWidget</span>(rb1);</span><br><span class="line">    radioLayout-&gt;<span class="built_in">addWidget</span>(rb2);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addLayout</span>(radioLayout);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. QCheckBox</span></span><br><span class="line">    cb1 = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;Check Box 1&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    cb2 = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;Check Box 2&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    QHBoxLayout* checkBoxLayout = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    checkBoxLayout-&gt;<span class="built_in">addWidget</span>(cb1);</span><br><span class="line">    checkBoxLayout-&gt;<span class="built_in">addWidget</span>(cb2);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addLayout</span>(checkBoxLayout);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. QCommandLinkButton</span></span><br><span class="line">    clb1 = <span class="keyword">new</span> <span class="built_in">QCommandLinkButton</span>(<span class="string">&quot;Command Link Button&quot;</span>, <span class="string">&quot;Description goes here&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    clb1-&gt;<span class="built_in">setIcon</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;:/icons/info.png&quot;</span>));</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addWidget</span>(clb1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. QDialogButtonBox</span></span><br><span class="line">    dbb1 = <span class="keyword">new</span> <span class="built_in">QDialogButtonBox</span>(QDialogButtonBox::Ok | QDialogButtonBox::Cancel, <span class="keyword">this</span>);</span><br><span class="line">    mainLayout-&gt;<span class="built_in">addWidget</span>(dbb1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将布局应用到中央窗口</span></span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(mainLayout);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置窗口标题</span></span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;Qt Button Controls Example&quot;</span>);</span><br><span class="line">    <span class="built_in">resize</span>(<span class="number">400</span>, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(pb1, &amp;QPushButton::clicked, <span class="keyword">this</span>, &amp;Button::pushbutton_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(tb1, &amp;QToolButton::clicked, <span class="keyword">this</span>, &amp;Button::toolbutton_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(rb1, &amp;QRadioButton::clicked, <span class="keyword">this</span>, &amp;Button::radiobutton1_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(rb2, &amp;QRadioButton::clicked, <span class="keyword">this</span>, &amp;Button::radiobutton2_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(cb1, &amp;QCheckBox::clicked, <span class="keyword">this</span>, &amp;Button::checkbox1_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(cb2, &amp;QCheckBox::clicked, <span class="keyword">this</span>, &amp;Button::checkbox2_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(clb1, &amp;QCommandLinkButton::clicked, <span class="keyword">this</span>, &amp;Button::commandlinkbutton_clicked);</span><br><span class="line">    <span class="built_in">connect</span>(dbb1, &amp;QDialogButtonBox::clicked, <span class="keyword">this</span>, &amp;Button::dialogbuttonbox_clicked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Button::~<span class="built_in">Button</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::pushbutton_clicked</span><span class="params">()</span>   <span class="comment">// QPushButton</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QPushButton&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::toolbutton_clicked</span><span class="params">()</span>     <span class="comment">// QToolButton</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QToolButton&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::radiobutton1_clicked</span><span class="params">()</span>    <span class="comment">// QRadioButton 1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QRadioButton 1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::radiobutton2_clicked</span><span class="params">()</span>   <span class="comment">// QRadioButton 2</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QRadioButton 2&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::checkbox1_clicked</span><span class="params">()</span>       <span class="comment">// QCheckBox 1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QCheckBox 1&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::checkbox2_clicked</span><span class="params">()</span>       <span class="comment">// QCheckBox 2</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QCheckBox 2&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::commandlinkbutton_clicked</span><span class="params">()</span> <span class="comment">// QCommandLinkButton</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QCommandLinkButton&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Button::dialogbuttonbox_clicked</span><span class="params">(QAbstractButton* button)</span> <span class="comment">// QDialogButtonBox</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;QDialogButtonBox&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>效果图：</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1731983793959.png" alt="1731983793959"></p>
<h3 id="Item-Views-Item-Widgets"><a href="#Item-Views-Item-Widgets" class="headerlink" title="Item Views&amp;Item Widgets"></a>Item Views&amp;Item Widgets</h3><h4 id="Item-Views"><a href="#Item-Views" class="headerlink" title="Item Views"></a>Item Views</h4><p><code>Item Views</code> 是基于 <strong>Model&#x2F;View</strong> 架构的视图组件，提供了一种高效且灵活的方式来显示和编辑数据。常用的包括：</p>
<ul>
<li><strong>QListView</strong>：显示垂直列表。</li>
<li><strong>QTableView</strong>：显示表格。</li>
<li><strong>QTreeView</strong>：显示树状结构。</li>
</ul>
<p><strong>Model&#x2F;View 架构</strong>：</p>
<p><strong>Model</strong>（数据模型）：负责管理数据的存储和组织，例如 <code>QStandardItemModel</code> 或自定义的模型。</p>
<p><strong>View</strong>（视图）：负责渲染数据，例如 <code>QTableView</code>。</p>
<p><strong>Delegate</strong>（委托）：负责数据的显示和编辑，例如 <code>QStyledItemDelegate</code>。</p>
<p>头文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_ItemViews.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTableView&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStandardItemModel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QHeaderView&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QListView&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStringListModel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTreeView&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStandardItemModel&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ItemViews</span> : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ItemViews</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">ItemViews</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ItemViewsClass* ui;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QListView* listView;            <span class="comment">// 列表视图</span></span><br><span class="line">    QStringListModel* listModel;    <span class="comment">// 数据模型</span></span><br><span class="line"></span><br><span class="line">    QTableView* tableView;       <span class="comment">// 视图</span></span><br><span class="line">    QStandardItemModel* tablemodel;  <span class="comment">// 数据模型</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    QTreeView* treeView;              <span class="comment">// 树状视图</span></span><br><span class="line">    QStandardItemModel* treeModel;    <span class="comment">// 数据模型</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setuptableViewModel</span><span class="params">()</span></span>;   <span class="comment">// 初始化模型和视图</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setuplistViewModel</span><span class="params">()</span></span>;   <span class="comment">// 初始化模型和视图</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setupTreeViewModel</span><span class="params">()</span></span>;                <span class="comment">// 初始化模型和视图</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





<p><strong>QListView</strong>：显示垂直列表。</p>
<p><strong>cpp文件为：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ItemViews.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ItemViews::<span class="built_in">ItemViews</span>(QWidget* parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent),    </span><br><span class="line">    <span class="built_in">listView</span>(<span class="keyword">new</span> <span class="built_in">QListView</span>(<span class="keyword">this</span>)),     <span class="comment">// 创建视图</span></span><br><span class="line">    <span class="built_in">listModel</span>(<span class="keyword">new</span> <span class="built_in">QStringListModel</span>(<span class="keyword">this</span>))<span class="comment">// 创建数据模型</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 设置窗口标题</span></span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;Item Views Example&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化模型和视图</span></span><br><span class="line">    <span class="built_in">setuplistViewModel</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置模型到视图</span></span><br><span class="line">    listView-&gt;<span class="built_in">setModel</span>(listModel);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置视图为窗口的中心部件</span></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(listView);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemViews::~<span class="built_in">ItemViews</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// tableView 和 model 由 Qt 的 parent-child 机制自动释放，无需手动 delete</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemViews::setuplistViewModel</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置数据列表</span></span><br><span class="line">    QStringList data;</span><br><span class="line">    data &lt;&lt; <span class="string">&quot;Alice&quot;</span> &lt;&lt; <span class="string">&quot;Bob&quot;</span> &lt;&lt; <span class="string">&quot;Charlie&quot;</span> &lt;&lt; <span class="string">&quot;David&quot;</span> &lt;&lt; <span class="string">&quot;Eve&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将数据加载到模型</span></span><br><span class="line">    listModel-&gt;<span class="built_in">setStringList</span>(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>效果图：</strong></p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1732025673933.png" alt="1732025673933"></p>
<p><strong>QTableView:</strong></p>
<p>cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ItemViews.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ItemViews::<span class="built_in">ItemViews</span>(QWidget* parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent),</span><br><span class="line">    <span class="built_in">tableView</span>(<span class="keyword">new</span> <span class="built_in">QTableView</span>(<span class="keyword">this</span>)),           <span class="comment">// 创建视图</span></span><br><span class="line">    <span class="built_in">model</span>(<span class="keyword">new</span> <span class="built_in">QStandardItemModel</span>(<span class="keyword">this</span>))       <span class="comment">// 创建数据模型</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 设置窗口标题</span></span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;Item Views Example&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化模型和视图</span></span><br><span class="line">    <span class="built_in">setupModel</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置视图</span></span><br><span class="line">    tableView-&gt;<span class="built_in">setModel</span>(model);                                   <span class="comment">// 绑定模型</span></span><br><span class="line">    tableView-&gt;<span class="built_in">horizontalHeader</span>()-&gt;<span class="built_in">setSectionResizeMode</span>(QHeaderView::Stretch); <span class="comment">// 列宽自适应</span></span><br><span class="line">    tableView-&gt;<span class="built_in">setSelectionBehavior</span>(QAbstractItemView::SelectRows);           <span class="comment">// 点击选择整行</span></span><br><span class="line">    tableView-&gt;<span class="built_in">setEditTriggers</span>(QAbstractItemView::DoubleClicked);             <span class="comment">// 双击单元格编辑</span></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(tableView);                                  <span class="comment">// 将 tableView 设置为主窗口中心部件</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemViews::~<span class="built_in">ItemViews</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// tableView 和 model 由 Qt 的 parent-child 机制自动释放，无需手动 delete</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemViews::setupModel</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置模型的行列数</span></span><br><span class="line">    model-&gt;<span class="built_in">setRowCount</span>(<span class="number">3</span>);</span><br><span class="line">    model-&gt;<span class="built_in">setColumnCount</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置列标题</span></span><br><span class="line">    model-&gt;<span class="built_in">setHeaderData</span>(<span class="number">0</span>, Qt::Horizontal, <span class="string">&quot;Name&quot;</span>);</span><br><span class="line">    model-&gt;<span class="built_in">setHeaderData</span>(<span class="number">1</span>, Qt::Horizontal, <span class="string">&quot;Age&quot;</span>);</span><br><span class="line">    model-&gt;<span class="built_in">setHeaderData</span>(<span class="number">2</span>, Qt::Horizontal, <span class="string">&quot;Country&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 填充数据</span></span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Alice&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;25&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;USA&quot;</span>));</span><br><span class="line"></span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;30&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;UK&quot;</span>));</span><br><span class="line"></span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Charlie&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;28&quot;</span>));</span><br><span class="line">    model-&gt;<span class="built_in">setItem</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Canada&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>效果如下：</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1732024657348.png" alt="1732024657348"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ItemViews.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ItemViews::<span class="built_in">ItemViews</span>(QWidget* parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent),</span><br><span class="line">    <span class="built_in">tableView</span>(<span class="keyword">new</span> <span class="built_in">QTableView</span>(<span class="keyword">this</span>)),       </span><br><span class="line">    <span class="built_in">listView</span>(<span class="keyword">new</span> <span class="built_in">QListView</span>(<span class="keyword">this</span>)),     <span class="comment">// 创建视图</span></span><br><span class="line">    <span class="built_in">tablemodel</span>(<span class="keyword">new</span> <span class="built_in">QStandardItemModel</span>(<span class="keyword">this</span>)),       <span class="comment">// 创建数据模型</span></span><br><span class="line">    <span class="built_in">listModel</span>(<span class="keyword">new</span> <span class="built_in">QStringListModel</span>(<span class="keyword">this</span>)),<span class="comment">// 创建数据模型</span></span><br><span class="line">    <span class="built_in">treeView</span>(<span class="keyword">new</span> <span class="built_in">QTreeView</span>(<span class="keyword">this</span>)),                <span class="comment">// 创建树状视图</span></span><br><span class="line">    <span class="built_in">treeModel</span>(<span class="keyword">new</span> <span class="built_in">QStandardItemModel</span>(<span class="keyword">this</span>))       <span class="comment">// 创建数据模型</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 设置窗口标题</span></span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;Item Views Example&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化模型和视图</span></span><br><span class="line">    <span class="built_in">setupTreeViewModel</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将模型绑定到视图</span></span><br><span class="line">    treeView-&gt;<span class="built_in">setModel</span>(treeModel);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置视图的显示属性</span></span><br><span class="line">    treeView-&gt;<span class="built_in">setHeaderHidden</span>(<span class="literal">false</span>);               <span class="comment">// 显示表头</span></span><br><span class="line">    treeView-&gt;<span class="built_in">setSelectionBehavior</span>(QAbstractItemView::SelectRows);  <span class="comment">// 整行选择</span></span><br><span class="line">    treeView-&gt;<span class="built_in">expandAll</span>();                          <span class="comment">// 默认展开所有节点</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将视图设置为主窗口的中心控件</span></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(treeView);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemViews::~<span class="built_in">ItemViews</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// tableView 和 model 由 Qt 的 parent-child 机制自动释放，无需手动 delete</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemViews::setupTreeViewModel</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置列标题</span></span><br><span class="line">    treeModel-&gt;<span class="built_in">setHorizontalHeaderLabels</span>(<span class="built_in">QStringList</span>() &lt;&lt; <span class="string">&quot;Category&quot;</span> &lt;&lt; <span class="string">&quot;Details&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建根节点</span></span><br><span class="line">    QStandardItem* rootNode = treeModel-&gt;<span class="built_in">invisibleRootItem</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加分类1</span></span><br><span class="line">    QStandardItem* category1 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Fruits&quot;</span>);</span><br><span class="line">    QStandardItem* detail1 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Delicious and healthy&quot;</span>);</span><br><span class="line">    category1-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Apple&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Red or green&quot;</span>));</span><br><span class="line">    category1-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Banana&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Yellow&quot;</span>));</span><br><span class="line">    rootNode-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; category1 &lt;&lt; detail1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加分类2</span></span><br><span class="line">    QStandardItem* category2 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Animals&quot;</span>);</span><br><span class="line">    QStandardItem* detail2 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Different types&quot;</span>);</span><br><span class="line">    category2-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Cat&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Cute pet&quot;</span>));</span><br><span class="line">    category2-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Dog&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Loyal friend&quot;</span>));</span><br><span class="line">    rootNode-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; category2 &lt;&lt; detail2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加分类3</span></span><br><span class="line">    QStandardItem* category3 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Vehicles&quot;</span>);</span><br><span class="line">    QStandardItem* detail3 = <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Used for transport&quot;</span>);</span><br><span class="line">    category3-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Car&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Fast and private&quot;</span>));</span><br><span class="line">    category3-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Bus&quot;</span>) &lt;&lt; <span class="keyword">new</span> <span class="built_in">QStandardItem</span>(<span class="string">&quot;Public transport&quot;</span>));</span><br><span class="line">    rootNode-&gt;<span class="built_in">appendRow</span>(<span class="built_in">QList</span>&lt;QStandardItem*&gt;() &lt;&lt; category3 &lt;&lt; detail3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>效果图：</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1732026092852.png" alt="1732026092852"></p>
<h4 id="ItemWidgets"><a href="#ItemWidgets" class="headerlink" title="ItemWidgets"></a>ItemWidgets</h4><p><code>Item Widgets</code> 是基于 <strong>QWidget</strong> 的组件，用于在表格或列表中插入小部件，例如按钮、复选框等。它们通常用于需要显示复杂内容的场景。常见类包括：</p>
<ul>
<li><strong>QTableWidget</strong>：用于表格。</li>
<li><strong>QTreeWidget</strong>：用于树状结构。</li>
<li><strong>QListWidget</strong>：用于列表。</li>
</ul>
<p><strong>工作机制</strong></p>
<ul>
<li>基于 <strong>QWidget</strong> 的传统方式，直接在单元格中添加小部件（如按钮或复选框）。</li>
<li>典型用法是通过 <code>QTableWidget::setCellWidget()</code> 或 <code>QTreeWidget::setItemWidget()</code> 方法为某个单元格插入一个小部件。</li>
</ul>
<p><strong>TreeWidgetItem</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">ItemWidgets::<span class="built_in">ItemWidgets</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent), <span class="built_in">tableWidget</span>(<span class="keyword">new</span> <span class="built_in">QTableWidget</span>(<span class="keyword">this</span>)),  <span class="comment">// 创建表格控件</span></span><br><span class="line">    <span class="built_in">treeWidget</span>(<span class="keyword">new</span> <span class="built_in">QTreeWidget</span>(<span class="keyword">this</span>))  <span class="comment">// 创建树形控件</span></span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;QTableWidget Example&quot;</span>); <span class="comment">// 设置窗口标题</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化表格</span></span><br><span class="line">    <span class="built_in">setupTree</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将表格控件设置为主窗口的中心部件</span></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(treeWidget);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemWidgets::~<span class="built_in">ItemWidgets</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemWidgets::setupTree</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 创建根节点</span></span><br><span class="line">    QTreeWidgetItem* root = <span class="keyword">new</span> <span class="built_in">QTreeWidgetItem</span>(treeWidget);</span><br><span class="line">    root-&gt;<span class="built_in">setText</span>(<span class="number">0</span>, <span class="string">&quot;Root&quot;</span>);</span><br><span class="line">    root-&gt;<span class="built_in">setText</span>(<span class="number">1</span>, <span class="string">&quot;Root Node&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加子节点到根节点</span></span><br><span class="line">    QTreeWidgetItem* child1 = <span class="keyword">new</span> <span class="built_in">QTreeWidgetItem</span>(root);</span><br><span class="line">    child1-&gt;<span class="built_in">setText</span>(<span class="number">0</span>, <span class="string">&quot;Child 1&quot;</span>);</span><br><span class="line">    child1-&gt;<span class="built_in">setText</span>(<span class="number">1</span>, <span class="string">&quot;This is child 1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    QTreeWidgetItem* child2 = <span class="keyword">new</span> <span class="built_in">QTreeWidgetItem</span>(root);</span><br><span class="line">    child2-&gt;<span class="built_in">setText</span>(<span class="number">0</span>, <span class="string">&quot;Child 2&quot;</span>);</span><br><span class="line">    child2-&gt;<span class="built_in">setText</span>(<span class="number">1</span>, <span class="string">&quot;This is child 2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为子节点添加孙子节点</span></span><br><span class="line">    QTreeWidgetItem* grandchild1 = <span class="keyword">new</span> <span class="built_in">QTreeWidgetItem</span>(child1);</span><br><span class="line">    grandchild1-&gt;<span class="built_in">setText</span>(<span class="number">0</span>, <span class="string">&quot;Grandchild 1&quot;</span>);</span><br><span class="line">    grandchild1-&gt;<span class="built_in">setText</span>(<span class="number">1</span>, <span class="string">&quot;This is grandchild 1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    QTreeWidgetItem* grandchild2 = <span class="keyword">new</span> <span class="built_in">QTreeWidgetItem</span>(child2);</span><br><span class="line">    grandchild2-&gt;<span class="built_in">setText</span>(<span class="number">0</span>, <span class="string">&quot;Grandchild 2&quot;</span>);</span><br><span class="line">    grandchild2-&gt;<span class="built_in">setText</span>(<span class="number">1</span>, <span class="string">&quot;This is grandchild 2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 展开根节点</span></span><br><span class="line">    treeWidget-&gt;<span class="built_in">expandAll</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>tableWidget</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ItemWidgets.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">ItemWidgets::<span class="built_in">ItemWidgets</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent), <span class="built_in">tableWidget</span>(<span class="keyword">new</span> <span class="built_in">QTableWidget</span>(<span class="keyword">this</span>))  <span class="comment">// 创建表格控件</span></span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;QTableWidget Example&quot;</span>); <span class="comment">// 设置窗口标题</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化表格</span></span><br><span class="line">    <span class="built_in">setupTable</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将表格控件设置为主窗口的中心部件</span></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(tableWidget);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemWidgets::~<span class="built_in">ItemWidgets</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemWidgets::setupTable</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置表格的行和列</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setRowCount</span>(<span class="number">3</span>);   <span class="comment">// 设置行数</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setColumnCount</span>(<span class="number">2</span>); <span class="comment">// 设置列数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置表头</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setHorizontalHeaderLabels</span>(<span class="built_in">QStringList</span>() &lt;&lt; <span class="string">&quot;Name&quot;</span> &lt;&lt; <span class="string">&quot;Age&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 填充数据</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;Alice&quot;</span>));</span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;25&quot;</span>));</span><br><span class="line"></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;30&quot;</span>));</span><br><span class="line"></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;Charlie&quot;</span>));</span><br><span class="line">    tableWidget-&gt;<span class="built_in">setItem</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="keyword">new</span> <span class="built_in">QTableWidgetItem</span>(<span class="string">&quot;35&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置列宽自适应</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">resizeColumnsToContents</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置单元格编辑模式</span></span><br><span class="line">    tableWidget-&gt;<span class="built_in">setEditTriggers</span>(QAbstractItemView::DoubleClicked); <span class="comment">// 双击编辑单元格</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>listWidget</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ItemWidgets.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line">ItemWidgets::<span class="built_in">ItemWidgets</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent), <span class="built_in">tableWidget</span>(<span class="keyword">new</span> <span class="built_in">QTableWidget</span>(<span class="keyword">this</span>)),  <span class="comment">// 创建表格控件</span></span><br><span class="line">    <span class="built_in">treeWidget</span>(<span class="keyword">new</span> <span class="built_in">QTreeWidget</span>(<span class="keyword">this</span>)),  <span class="comment">// 创建树形控件,</span></span><br><span class="line">    <span class="built_in">listWidget</span>(<span class="keyword">new</span> <span class="built_in">QListWidget</span>(<span class="keyword">this</span>)),  <span class="comment">// 创建列表控件</span></span><br><span class="line">    <span class="built_in">addButton</span>(<span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;Add Item&quot;</span>, <span class="keyword">this</span>)),  <span class="comment">// 创建添加按钮</span></span><br><span class="line">    <span class="built_in">removeButton</span>(<span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;Remove Item&quot;</span>, <span class="keyword">this</span>)) <span class="comment">// 创建删除按钮</span></span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;QTableWidget Example&quot;</span>); <span class="comment">// 设置窗口标题</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置按钮的布局</span></span><br><span class="line">    QVBoxLayout* layout = <span class="keyword">new</span> QVBoxLayout;</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(listWidget);</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(addButton);</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(removeButton);</span><br><span class="line"></span><br><span class="line">    QWidget* container = <span class="keyword">new</span> <span class="built_in">QWidget</span>();</span><br><span class="line">    container-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setCentralWidget</span>(container);  <span class="comment">// 设置中央控件为容器</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置初始列表</span></span><br><span class="line">    <span class="built_in">setupList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 连接按钮的信号和槽</span></span><br><span class="line">    <span class="built_in">connect</span>(addButton, &amp;QPushButton::clicked, [<span class="keyword">this</span>]() &#123;</span><br><span class="line">        <span class="comment">// 点击“添加”按钮，添加一个新项</span></span><br><span class="line">        listWidget-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;New Item&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(removeButton, &amp;QPushButton::clicked, [<span class="keyword">this</span>]() &#123;</span><br><span class="line">        <span class="comment">// 点击“删除”按钮，删除选中的项</span></span><br><span class="line">        <span class="keyword">delete</span> listWidget-&gt;<span class="built_in">currentItem</span>();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 连接项点击事件</span></span><br><span class="line">    <span class="built_in">connect</span>(listWidget, &amp;QListWidget::itemClicked, [<span class="keyword">this</span>](QListWidgetItem* item) &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Item clicked: &quot;</span> &lt;&lt; item-&gt;<span class="built_in">text</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ItemWidgets::~<span class="built_in">ItemWidgets</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ItemWidgets::setupList</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 向列表中添加初始项</span></span><br><span class="line">    listWidget-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Item 1&quot;</span>);</span><br><span class="line">    listWidget-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Item 2&quot;</span>);</span><br><span class="line">    listWidget-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Item 3&quot;</span>);</span><br><span class="line">    listWidget-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Item 4&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>区别：</p>
<table>
<thead>
<tr>
<th>特点</th>
<th>Item Views</th>
<th>Item Widgets</th>
</tr>
</thead>
<tbody><tr>
<td>架构</td>
<td>基于 Model&#x2F;View 架构</td>
<td>基于 QWidget 的传统方式</td>
</tr>
<tr>
<td>性能</td>
<td>更高效，适合处理大量数据</td>
<td>数据量大时性能差</td>
</tr>
<tr>
<td>灵活性</td>
<td>借助委托实现自定义渲染和编辑</td>
<td>可直接插入复杂小部件，灵活但不高效</td>
</tr>
<tr>
<td>开发复杂性</td>
<td>需要实现数据模型，稍复杂</td>
<td>使用传统方法开发，简单直观</td>
</tr>
<tr>
<td>适用场景</td>
<td>数据量大，需求偏重于数据展示</td>
<td>小数据量，需求偏重于复杂交互</td>
</tr>
</tbody></table>
<h3 id="Input-Widgets-Display-Widgets"><a href="#Input-Widgets-Display-Widgets" class="headerlink" title="Input Widgets&amp;Display Widgets"></a><strong>Input Widgets&amp;Display Widgets</strong></h3><h4 id="Input-Widgets"><a href="#Input-Widgets" class="headerlink" title="Input Widgets"></a>Input Widgets</h4><p>全家福</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1732193961776.png" alt="1732193961776"></p>
<p>部分控件的实现：</p>
<p>Combo Box，Font Combo Box ,Text Edit , Horizontal Scroll Bar</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_Input_Widgets.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QComboBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPalette&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFontComboBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTextEdit&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFileDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTextStream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSlider&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Input_Widgets</span> : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Input_Widgets</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Input_Widgets</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Input_WidgetsClass ui;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QComboBox* comboBox;</span><br><span class="line">    QLabel* label;</span><br><span class="line">    QVBoxLayout* layout;</span><br><span class="line">    QFontComboBox* fontComboBox;  <span class="comment">// 字体选择框</span></span><br><span class="line">    QTextEdit* textEdit;        <span class="comment">// 文本编辑框</span></span><br><span class="line">    QPushButton* saveButton;    <span class="comment">// 保存按钮</span></span><br><span class="line">    QWidget* centralWidget;</span><br><span class="line">    QSlider* slider;            <span class="comment">// 水平滑动条</span></span><br><span class="line">    QLabel* slider_label;              <span class="comment">// 显示滑动条当前值的标签</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Init_ConboBox</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Init_FontComboBox</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Init_TextEdit</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Init_Slider</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots: </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ConboBox_Slot</span><span class="params">(<span class="type">int</span> index)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">FontComboBox_Slot</span><span class="params">(<span class="type">const</span> QFont&amp; font)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">TextEdit_Slot</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Slider_Slot</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





<p>cpp的实现：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Input_Widgets.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Input_Widgets::<span class="built_in">Input_Widgets</span>(QWidget* parent)</span><br><span class="line">    : <span class="built_in">QMainWindow</span>(parent),</span><br><span class="line">    <span class="built_in">comboBox</span>(<span class="keyword">new</span> QComboBox),</span><br><span class="line">    <span class="built_in">layout</span>(<span class="keyword">new</span> QVBoxLayout),</span><br><span class="line">    <span class="built_in">fontComboBox</span>(<span class="keyword">new</span> QFontComboBox),</span><br><span class="line">    <span class="built_in">label</span>(<span class="keyword">new</span> QLabel),</span><br><span class="line">    <span class="built_in">textEdit</span>(<span class="keyword">new</span> QTextEdit),</span><br><span class="line">    <span class="built_in">saveButton</span>(<span class="keyword">new</span> QPushButton),</span><br><span class="line">    <span class="built_in">slider</span>(<span class="keyword">new</span> <span class="built_in">QSlider</span>(Qt::Horizontal, <span class="keyword">this</span>)),</span><br><span class="line">    <span class="built_in">slider_label</span>(<span class="keyword">new</span> QLabel)</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(label);</span><br><span class="line">    centralWidget = <span class="keyword">new</span> <span class="built_in">QWidget</span>(<span class="keyword">this</span>);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line">    <span class="built_in">setCentralWidget</span>(centralWidget);</span><br><span class="line">    <span class="comment">//QComboBox::currentIndexChanged() 是 Qt 中 QComboBox 组件的一个信号，它在用户更改组合框选项时被触发。</span></span><br><span class="line">    <span class="comment">//QOverload&lt;int&gt;：我们要指定的是带有 int 类型参数的重载版本,因为&amp;QComboBox::currentIndexChanged有重载</span></span><br><span class="line">    <span class="built_in">Init_ConboBox</span>();</span><br><span class="line">    <span class="built_in">Init_FontComboBox</span>();</span><br><span class="line">    <span class="built_in">Init_TextEdit</span>();</span><br><span class="line">    <span class="built_in">Init_Slider</span>();</span><br><span class="line">    <span class="built_in">connect</span>(comboBox, QOverload&lt;<span class="type">int</span>&gt;::<span class="built_in">of</span>(&amp;QComboBox::currentIndexChanged), <span class="keyword">this</span>, &amp;Input_Widgets::ConboBox_Slot);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(fontComboBox, &amp;QFontComboBox::currentFontChanged, <span class="keyword">this</span>, &amp;Input_Widgets::FontComboBox_Slot);    <span class="comment">// 连接字体选择框的信号到槽函数</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(saveButton, &amp;QPushButton::clicked, <span class="keyword">this</span>, &amp;Input_Widgets::TextEdit_Slot);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(slider, &amp;QSlider::valueChanged, <span class="keyword">this</span>, &amp;Input_Widgets::Slider_Slot);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Input_Widgets::~<span class="built_in">Input_Widgets</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::Init_Slider</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置滑动条范围和初始值</span></span><br><span class="line">    slider-&gt;<span class="built_in">setRange</span>(<span class="number">0</span>, <span class="number">100</span>);  <span class="comment">// 范围为0到100</span></span><br><span class="line">    slider-&gt;<span class="built_in">setValue</span>(<span class="number">0</span>);        <span class="comment">// 初始值为0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将滑动条和标签添加到布局中</span></span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(slider);</span><br><span class="line">    slider_label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Value: 0&quot;</span>);</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(slider_label);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::Slider_Slot</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    slider_label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Value: &quot;</span> + QString::<span class="built_in">number</span>(value));  <span class="comment">// 显示滑动条的当前值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> Input_Widgets::Input_Widgets::<span class="built_in">TextEdit_Slot</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 弹出文件对话框，获取保存文件的路径</span></span><br><span class="line">    QString fileName = QFileDialog::<span class="built_in">getSaveFileName</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;Save File&quot;</span>), <span class="string">&quot;&quot;</span>, <span class="built_in">tr</span>(<span class="string">&quot;Text Files (*.txt);;All Files (*)&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果用户选择了文件路径</span></span><br><span class="line">    <span class="keyword">if</span> (!fileName.<span class="built_in">isEmpty</span>()) &#123;</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (file.<span class="built_in">open</span>(QIODevice::WriteOnly | QIODevice::Text)) &#123;</span><br><span class="line">            <span class="function">QTextStream <span class="title">out</span><span class="params">(&amp;file)</span></span>;</span><br><span class="line">            <span class="comment">// 将文本框中的内容写入到文件中</span></span><br><span class="line">            out &lt;&lt; textEdit-&gt;<span class="built_in">toPlainText</span>();</span><br><span class="line">            file.<span class="built_in">close</span>();</span><br><span class="line">            QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;Success&quot;</span>), <span class="built_in">tr</span>(<span class="string">&quot;File saved successfully.&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            QMessageBox::<span class="built_in">warning</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;Error&quot;</span>), <span class="built_in">tr</span>(<span class="string">&quot;Could not save file.&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::Init_TextEdit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 设置文本编辑框的一些属性</span></span><br><span class="line">    textEdit-&gt;<span class="built_in">setPlainText</span>(<span class="string">&quot;Hello, Qt!&quot;</span>);  <span class="comment">// 设置初始文本</span></span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(textEdit);</span><br><span class="line">    saveButton-&gt;<span class="built_in">setText</span>(<span class="string">&quot;保存&quot;</span>);</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(saveButton);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::FontComboBox_Slot</span><span class="params">(<span class="type">const</span> QFont&amp; font)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 当选择的字体发生变化时，更新标签内容</span></span><br><span class="line">    label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Selected font: &quot;</span> + font.<span class="built_in">family</span>());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::Init_FontComboBox</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(fontComboBox);<span class="comment">//不用做其他的，直接塞到布局就行</span></span><br><span class="line">    <span class="built_in">setLayout</span>(layout);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::ConboBox_Slot</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 当选择发生变化时，更新标签内容</span></span><br><span class="line">    QString selectedColor = comboBox-&gt;<span class="built_in">itemText</span>(index);</span><br><span class="line">    label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Selected color: &quot;</span> + selectedColor);</span><br><span class="line">    centralWidget-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Input_Widgets::Init_ConboBox</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 添加颜色选项到下拉框</span></span><br><span class="line">    comboBox-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Red&quot;</span>);</span><br><span class="line">    comboBox-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Green&quot;</span>);</span><br><span class="line">    comboBox-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Blue&quot;</span>);</span><br><span class="line">    comboBox-&gt;<span class="built_in">addItem</span>(<span class="string">&quot;Yellow&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个垂直布局器，并将comboBox和label添加到布局器中</span></span><br><span class="line">    </span><br><span class="line">    layout-&gt;<span class="built_in">addWidget</span>(comboBox);</span><br><span class="line">    <span class="built_in">setLayout</span>(layout);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>效果图：<br><img src="/Qt%E6%A1%86%E6%9E%B6/1732198137362.png" alt="1732198137362"></p>
<h4 id="Display-Widgets"><a href="#Display-Widgets" class="headerlink" title="Display Widgets"></a>Display Widgets</h4><p><strong>QLabel</strong></p>
<ul>
<li><strong>功能</strong>：显示文本或图像，可支持富文本和对齐方式。</li>
<li><strong>典型应用</strong>：标签、提示信息、简单的图像展示。</li>
</ul>
<p><strong>QTextBrowser</strong></p>
<ul>
<li><strong>功能</strong>：显示超文本（HTML）内容，支持超链接点击。</li>
<li><strong>典型应用</strong>：帮助文档、带超链接的富文本显示。</li>
</ul>
<p><strong>QGraphicsView</strong></p>
<ul>
<li><strong>功能</strong>：用于管理和显示 2D 图形场景的视图。</li>
<li><strong>典型应用</strong>：复杂的图形或用户界面场景展示。</li>
</ul>
<p><strong>QCalendarWidget</strong></p>
<ul>
<li><strong>功能</strong>：用于显示和选择日期。</li>
<li><strong>典型应用</strong>：日期选择器。</li>
</ul>
<p><strong>QLCDNumber</strong></p>
<ul>
<li><strong>功能</strong>：显示数值，仿真数字显示屏效果。</li>
<li><strong>典型应用</strong>：计数器、计时器显示。</li>
</ul>
<p><strong>QProgressBar</strong></p>
<ul>
<li><strong>功能</strong>：显示任务进度。</li>
<li><strong>典型应用</strong>：文件下载、加载过程的进度指示。</li>
</ul>
<p><strong>QFrame (Horizontal Line &#x2F; Vertical Line)</strong></p>
<ul>
<li><strong>功能</strong>：绘制简单的框架或分割线。</li>
<li><strong>典型应用</strong>：界面布局分割。</li>
</ul>
<p><strong>QOpenGLWidget</strong></p>
<ul>
<li><strong>功能</strong>：嵌入 OpenGL 图形渲染内容。</li>
<li><strong>典型应用</strong>：3D 图形渲染或图形处理。</li>
</ul>
<p><strong>QQuickWidget</strong></p>
<ul>
<li><strong>功能</strong>：嵌入 QML 内容（Qt Quick 的用户界面）。</li>
<li><strong>典型应用</strong>：混合 QML 与 Qt Widgets 的界面。</li>
</ul>
<p><strong>QWebEngineView</strong></p>
<ul>
<li><strong>功能</strong>：嵌入一个现代 Web 浏览器，支持 HTML5。</li>
<li><strong>典型应用</strong>：内嵌网页、显示在线内容或 Web 应用程序。</li>
</ul>
<h2 id="移植Qt-Ui文件"><a href="#移植Qt-Ui文件" class="headerlink" title="移植Qt Ui文件"></a>移植Qt Ui文件</h2><p>我在写QT项目的时候，想拿之前一个项目的UI文件直接使用，但是当我直接把其他项目的UI文件导入我的项目的时候，发现并不能直接使用</p>
<p>求助ChatGPT，发现QT已经为我们想到了这一切</p>
<p>在QT的bin目录下，有一个叫uic.exe的应用程序，这个负责将ui文件转为头文件.h，直接导入这个头文件，我们就可以使用原来的ui界面了</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1733835008955.png" alt="1733835008955"></p>
<p>头文件长这样：</p>
<p>其实就是以代码的形式展现</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1733835146569.png" alt="1733835146569"></p>
<p>其中：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">ServerClass</span>: <span class="keyword">public</span> Ui_ServerClass &#123;&#125;;</span><br><span class="line">&#125; <span class="comment">// namespace Ui</span></span><br></pre></td></tr></table></figure>

<p>解释一下就是：</p>
<p>用<code>Ui::ServerClass</code>代替<code>Ui_ServerClass </code></p>
<p>然后可以自己新建一个头文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ZeroServer_ui.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMenu&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ServerWindow</span> : <span class="keyword">public</span> QMainWindow &#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ServerWindow</span><span class="params">(QWidget* parent = <span class="literal">nullptr</span>)</span></span></span><br><span class="line"><span class="function">        : QMainWindow(parent) &#123;</span></span><br><span class="line">        ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>); <span class="comment">// 初始化界面</span></span><br><span class="line">        <span class="built_in">Initialize_Interface</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ServerClass ui; <span class="comment">// 包含由 .ui 文件生成的 UI 类</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Initialize_Interface</span><span class="params">()</span></span>; <span class="comment">//初始化界面</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Set_Right_click_options</span><span class="params">()</span></span>;<span class="comment">//给表单结构的行设置右键选项</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showContextMenu</span><span class="params">(<span class="type">const</span> QPoint&amp; pos)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>例如这样，加了我之前项目的一些函数，具体实现直接复制过来就行</p>
<p>完美运行</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1733835593767.png" alt="1733835593767"></p>
<h2 id="windows-QT项目移植Linux"><a href="#windows-QT项目移植Linux" class="headerlink" title="windows QT项目移植Linux"></a>windows QT项目移植Linux</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jolin678/article/details/110964681">https://blog.csdn.net/jolin678/article/details/110964681</a></p>
<p>1.创建一个目录，首先把windows vs工程里面的.cpp文件，.h文件，.qrc拷贝到这个文件夹，其他都不要</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734264116715.png" alt="1734264116715"></p>
<p>2.设置qmake的环境变量，除非你已经加在系统变量了，不然得自己手动加，这里的环境变量是一次性的，只在当前有效</p>
<p>例如我电脑里面的qt的程序都在这个目录</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734264350386.png" alt="1734264350386"></p>
<p>所以我就把这个目录添加到环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/opt/Qt5.12.10/5.12.10/gcc_64/bin/:$PATH</span><br></pre></td></tr></table></figure>





<p>3.执行命令添加模块，这样会生成一个.pro文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qmake -project QT+=widgets</span><br></pre></td></tr></table></figure>

<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734264674552.png" alt="1734264674552"></p>
<p>当然，如果你的项目不止只有widgets这个模块，还有其他的，可以编辑这个.pro文件</p>
<p>例如这里添加一个network</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734264756391.png" alt="1734264756391"></p>
<p>然后运行指令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qmake</span><br></pre></td></tr></table></figure>

<p>执行完这一步在目录下会生出Makefile文件 </p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734264891678.png" alt="1734264891678"></p>
<p>然后再执行命令： </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>就可以编译链接生成可执行文件了</p>
<p>生成了一个可执行文件，打开就能用</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734265688123.png" alt="1734265688123"></p>
<p>当然你也可以用QtCreator，把.pro文件拖进来</p>
<p>然后选择编译器</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734265240188.png" alt="1734265240188"></p>
<p>构建，成功运行</p>
<p><img src="/Qt%E6%A1%86%E6%9E%B6/1734265631709.png" alt="1734265631709"></p>
<h2 id="QT打包发布"><a href="#QT打包发布" class="headerlink" title="QT打包发布"></a>QT打包发布</h2><p>Vs+Qt项目打包发布</p>
<p> <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_48866092/article/details/139238138">VS+QT发布程序详细步骤，以及遇到的问题-CSDN博客</a> </p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Ccai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/Qt%E6%A1%86%E6%9E%B6/">http://example.com/Qt%E6%A1%86%E6%9E%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Cc12138's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/QT/">QT</a></div><div class="post_share"><div class="social-share" data-image="/img/WangFei2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/Minifilter/" title="Minifilter(nullfilter,scanner,sandbox)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Minifilter(nullfilter,scanner,sandbox)</div></div></a></div><div class="next-post pull-right"><a href="/%E5%A4%9A%E7%BA%BF%E7%A8%8B,%E5%86%85%E6%A0%B8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="多线程安全"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">多线程安全</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/WangFei2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Ccai</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/0xcc12138" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">ROIS Team Member</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#QT%E6%A1%86%E6%9E%B6%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">QT框架笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#VS%E4%B8%8A%E4%BD%BF%E7%94%A8QT"><span class="toc-number">1.1.</span> <span class="toc-text">VS上使用QT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QT%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">QT信号与槽机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.1.</span> <span class="toc-text">简单介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QT%E4%B8%AD%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">QT中信号和槽的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QObject-connect"><span class="toc-number">1.2.3.</span> <span class="toc-text">QObject::connect()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">代码示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9BQt%E7%9A%84%E6%96%B9%E6%B3%95%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">一些Qt的方法类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QString%E7%B1%BB%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">QString类：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QMap%EF%BC%8CQHash%EF%BC%8CQVector%E7%B1%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">QMap，QHash，QVector类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QList%E5%92%8CQLinkedList%E7%B1%BB"><span class="toc-number">1.3.3.</span> <span class="toc-text">QList和QLinkedList类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QVariant%E7%B1%BB"><span class="toc-number">1.3.4.</span> <span class="toc-text">QVariant类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QT%E5%BC%80%E5%8F%91%E5%B8%B8%E8%A7%81%E6%8E%A7%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">QT开发常见控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Layouts-Spacers"><span class="toc-number">1.4.1.</span> <span class="toc-text">Layouts&amp;Spacers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">手动操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%9A"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">代码实现：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Button%E6%8E%A7%E4%BB%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">Button控件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">控件介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">代码示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Item-Views-Item-Widgets"><span class="toc-number">1.4.3.</span> <span class="toc-text">Item Views&amp;Item Widgets</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Item-Views"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">Item Views</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ItemWidgets"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">ItemWidgets</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-Widgets-Display-Widgets"><span class="toc-number">1.4.4.</span> <span class="toc-text">Input Widgets&amp;Display Widgets</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Input-Widgets"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">Input Widgets</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Display-Widgets"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">Display Widgets</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E6%A4%8DQt-Ui%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text">移植Qt Ui文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#windows-QT%E9%A1%B9%E7%9B%AE%E7%A7%BB%E6%A4%8DLinux"><span class="toc-number">1.6.</span> <span class="toc-text">windows QT项目移植Linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QT%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">1.7.</span> <span class="toc-text">QT打包发布</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E6%8F%90%E5%8D%87%E8%BF%9B%E7%A8%8B%E8%87%B3PPL%E6%9D%83%E9%99%90/" title="将进程提升至PPL权限">将进程提升至PPL权限</a><time datetime="2025-02-05T07:44:00.000Z" title="发表于 2025-02-05 15:44:00">2025-02-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/WDF%E5%AD%A6%E4%B9%A0/" title="WDF框架学习">WDF框架学习</a><time datetime="2025-01-12T15:00:00.000Z" title="发表于 2025-01-12 23:00:00">2025-01-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/NDIS,WFP%E7%BD%91%E7%BB%9C%E8%BF%87%E6%BB%A4/" title="NDIS/WFP网络过滤">NDIS/WFP网络过滤</a><time datetime="2025-01-12T02:32:00.000Z" title="发表于 2025-01-12 10:32:00">2025-01-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E7%97%85%E6%AF%92%E5%88%86%E6%9E%90/" title="病毒分析">病毒分析</a><time datetime="2025-01-06T14:11:00.000Z" title="发表于 2025-01-06 22:11:00">2025-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E7%BD%91%E7%BB%9C%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AFTDI/" title="TDI网络防火墙技术">TDI网络防火墙技术</a><time datetime="2025-01-06T03:28:00.000Z" title="发表于 2025-01-06 11:28:00">2025-01-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Ccai</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>